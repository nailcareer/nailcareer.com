Array.prototype.at=function(t){return t>=0?this[t]:this[this.length+t]};var t,e=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},r=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class i{constructor(){t.set(this,!1)}lock(r){e(this,t,!0,"f");const i=r();return e(this,t,!1,"f"),i}get locked(){return r(this,t,"f")}}t=new WeakMap;const n=()=>new Map,o=()=>new Set;function s(t){return new a(t)}class a{constructor(t){this.map=t}grab(t,e){const{map:r}=this;if(r.has(t))return r.get(t);{const i=e();return r.set(t,i),i}}}var c,l=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)},d=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r};class u{constructor(){c.set(this,new WeakMap)}grab_keymap(t){const e=s(l(this,c,"f")).grab(t,n);return{keymap:e,grab_symbolmap:t=>s(e).grab(t,n)}}clear(){d(this,c,new WeakMap,"f")}}c=new WeakMap;var h,p=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class f{constructor(){h.set(this,new Map)}stop(t){const e=p(this,h,"f").get(t);e&&(p(this,h,"f").delete(t),e())}add(t,e){p(this,h,"f").set(t,e)}}h=new WeakMap;var m,w=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class g{constructor(){m.set(this,[])}record(t){const e=n();w(this,m,"f").push(e);const r=t();return w(this,m,"f").pop(),{payload:r,recording:e}}record_that_key_was_accessed(t,e){const r=w(this,m,"f").at(-1);if(r){s(r).grab(t,o).add(e)}}}m=new WeakMap;class v extends Error{constructor(){super(...arguments),this.name=this.constructor.name}}class y extends v{constructor(t){super(`forbidden circularity, rejected assignment to "${t}"`)}}class b extends v{constructor(t){super(`forbidden assignment to readonly property "${t}"`)}}function _(t,e){let r,i,n=[];function o(){r=[],i&&clearTimeout(i),i=void 0,n=[]}return o(),(...s)=>{r=s,i&&clearTimeout(i);const a=new Promise(((t,e)=>{n.push({resolve:t,reject:e})}));return i=setTimeout((()=>{Promise.resolve().then((()=>e(...r))).then((t=>{for(const{resolve:e}of n)e(t);o()})).catch((t=>{for(const{reject:e}of n)e(t);o()}))}),t),a}}var $,x,k,E=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)},C=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r};class A{constructor(){$.set(this,new Map),x.set(this,Promise.resolve()),k.set(this,_(0,(()=>{const t=[...E(this,$,"f").values()];E(this,$,"f").clear();for(const e of t)e()})))}get wait(){return E(this,x,"f")}add(t,e){E(this,$,"f").set(t,e),C(this,x,E(this,k,"f").call(this),"f")}}function T(t,e,r,i){const n=[];for(const[o,s]of e){const{grab_symbolmap:e}=r.grab_keymap(o);for(const r of s){const o=e(r);o.set(t,i),n.push((()=>o.delete(t)))}}return()=>n.forEach((t=>t()))}$=new WeakMap,x=new WeakMap,k=new WeakMap;var P,M,S,j,W,z,q=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class O{constructor(){P.set(this,new u),M.set(this,new g),S.set(this,new i),j.set(this,new f),W.set(this,new A),z.set(this,function(t,e,r,i,n){function o([r,n]){if("lean"in n)n.actor();else{const{payload:o,recording:s}=e.record(n.collector);i.add(r,T(r,s,t,n)),n.responder&&n.responder(o)}}return{get:(t,r)=>(e.record_that_key_was_accessed(t,r),t[r]),set:(e,i,s)=>{if(r.locked)throw new y(i);e[i]=s;const a=[...t.grab_keymap(e).grab_symbolmap(i)];for(const t of a){const[e]=t;n.add(e,(()=>r.lock((()=>o(t)))))}return!0}}}(q(this,P,"f"),q(this,M,"f"),q(this,S,"f"),q(this,j,"f"),q(this,W,"f")))}get wait(){return q(this,W,"f").wait}state(t){return new Proxy(t,q(this,z,"f"))}reaction(t,e){const r=Symbol(),{recording:i}=q(this,M,"f").record((()=>q(this,S,"f").lock(t)));return q(this,j,"f").add(r,T(r,i,q(this,P,"f"),{collector:t,responder:e})),()=>q(this,j,"f").stop(r)}lean(t){const e=Symbol();return{stop:()=>q(this,j,"f").stop(e),collect:r=>{const{payload:i,recording:n}=q(this,M,"f").record((()=>q(this,S,"f").lock(r)));return q(this,j,"f").add(e,T(e,n,q(this,P,"f"),{lean:!0,actor:t})),i}}}clear(){q(this,P,"f").clear()}}P=new WeakMap,M=new WeakMap,S=new WeakMap,j=new WeakMap,W=new WeakMap,z=new WeakMap,O.readonly=function(t){return new Proxy(t,{get:(t,e)=>t[e],set(t,e){throw new b(e)}})},O.collectivize=function(t){return function(e){return()=>{const r="function"==typeof t?t():t;return e(r)}}};const N=Error;var U;!function(t){function e(t,e){switch(t.mode){case"loading":return e.loading();case"error":return e.error(t.reason);case"ready":return e.ready(t.payload);default:throw console.error("op",t),new N("invalid op mode")}}t.loading=()=>({mode:"loading"}),t.error=t=>({mode:"error",reason:t}),t.ready=t=>({mode:"ready",payload:t}),t.is=Object.freeze({loading:t=>"loading"===t.mode,error:t=>"error"===t.mode,ready:t=>"ready"===t.mode}),t.payload=function(t){return"ready"===t.mode?t.payload:void 0},t.select=e,t.run=async function(e,r){e(t.loading());try{const i=await r();return e(t.ready(i)),i}catch(r){const i=r instanceof N?r.message:"string"==typeof r?r:"error";e(t.error(i))}},t.morph=function(r,i){return e(r,{loading:()=>t.loading(),error:e=>t.error(e),ready:e=>t.ready(i(e))})}}(U||(U={}));var R,I=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};R=new WeakMap;var H,D=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},L=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class B{constructor(t){H.set(this,void 0),D(this,H,t,"f")}get state(){return L(this,H,"f").getter(L(this,H,"f").parent.state)}transmute(t){L(this,H,"f").parent.transmute((e=>{const r=L(this,H,"f").getter(e),i=t(r);return L(this,H,"f").setter(e,i)}))}slice({getter:t,setter:e}){return new B({parent:this,getter:t,setter:e})}}function F(t){return null===t||"object"!=typeof t?t:(Object.values(t).forEach((t=>{"object"==typeof t&&null!==t&&F(t)})),Object.freeze(t))}H=new WeakMap;var V,J,K,Z,G,Y,X=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)},Q=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r};class tt{constructor(t,e=(()=>{})){V.add(this),J.set(this,void 0),K.set(this,void 0),Z.set(this,void 0),G.set(this,!1),Q(this,J,structuredClone(t),"f"),Q(this,K,X(this,V,"m",Y).call(this),"f"),Q(this,Z,e,"f")}get state(){return X(this,K,"f")}transmute(t){if(X(this,G,"f"))throw new Error("circular error");Q(this,G,!0,"f"),Q(this,J,t(structuredClone(X(this,J,"f"))),"f"),Q(this,K,X(this,V,"m",Y).call(this),"f"),X(this,Z,"f").call(this),Q(this,G,!1,"f")}slice({getter:t,setter:e}){return new B({parent:this,getter:t,setter:e})}}J=new WeakMap,K=new WeakMap,Z=new WeakMap,G=new WeakMap,V=new WeakSet,Y=function(){return F(structuredClone(X(this,J,"f")))};const et=(t,e)=>{if(t===e)return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const n of r){if(!i.includes(n))return!1;if(!et(t[n],e[n]))return!1}return!0};var rt,it,nt,ot,st,at=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},ct=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};rt=new WeakMap,it=new WeakMap,nt=new WeakMap,ot=new WeakMap,function(t){var e;t.map=(t,e)=>Object.fromEntries(Object.entries(t).map((([t,r])=>[t,e(r,t)]))),t.filter=(t,e)=>Object.fromEntries(Object.entries(t).filter((([t,r])=>e(r,t)))),(e=t.pipe||(t.pipe={})).map=e=>r=>t.map(r,e),e.filter=e=>r=>t.filter(r,e)}(st||(st={}));const lt=Symbol();class dt extends Error{constructor(){super(...arguments),this.name=this.constructor.name}}var ut,ht,pt,ft,mt,wt,gt=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},vt=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class yt{constructor(t){ut.set(this,void 0),ht.set(this,!1),pt.set(this,void 0),ft.set(this,new Set),this[wt]=!1,mt.set(this,_(0,(()=>{const t=vt(this,ut,"f");gt(this,ht,!0,"f");for(const e of vt(this,ft,"f"))e(t);return gt(this,ht,!1,"f"),t}))),gt(this,ut,t,"f"),gt(this,pt,Promise.resolve(t),"f")}subscribe(t){return vt(this,ft,"f").add(t),()=>{vt(this,ft,"f").delete(t)}}once(t){const e=r=>{t(r),vt(this,ft,"f").delete(e)};return vt(this,ft,"f").add(e),()=>{vt(this,ft,"f").delete(e)}}clear(){return vt(this,ft,"f").clear()}async publish(){gt(this,pt,vt(this,mt,"f").call(this),"f"),await vt(this,pt,"f")}get wait(){return vt(this,pt,"f")}get value(){return this[lt]=!0,vt(this,ut,"f")}set value(t){if(vt(this,ht,"f"))throw new dt("you can't set a signal in a signal's subscription listener (infinite loop forbidden)");gt(this,ut,t,"f"),this.publish()}}ut=new WeakMap,ht=new WeakMap,pt=new WeakMap,ft=new WeakMap,mt=new WeakMap,wt=lt;class bt extends yt{constructor(){super(U.loading())}async run(t){return U.run((t=>this.value=t),t)}setLoading(){this.value=U.loading()}setError(t){this.value=U.error(t)}setReady(t){this.value=U.ready(t)}get loading(){return U.is.loading(this.value)}get error(){return U.is.error(this.value)}get ready(){return U.is.ready(this.value)}get payload(){return U.payload(this.value)}select(t){return U.select(this.value,t)}}var _t,$t,xt,kt,Et,Ct,At,Tt,Pt,Mt=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},St=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class jt{constructor({all_signals:t,waiters:e}){_t.add(this),$t.set(this,!0),xt.set(this,void 0),kt.set(this,void 0),Et.set(this,new Set),Ct.set(this,new Set),At.set(this,_(0,(t=>{if(St(this,$t,"f"))if("lean"in t)t.actor();else{const{payload:e,recording:r}=this.observe(t.collector);this.add_listeners(t,r),t.responder&&t.responder(e)}}))),Mt(this,xt,t,"f"),Mt(this,kt,e,"f")}observe(t){St(this,_t,"m",Tt).call(this);return{payload:t(),recording:St(this,_t,"a",Pt)}}add_listeners(t,e){for(const r of e)St(this,Et,"f").add(r),St(this,Ct,"f").add(r.subscribe((()=>St(this,kt,"f").add(St(this,At,"f").call(this,t)))))}shutdown(){Mt(this,$t,!1,"f"),St(this,Ct,"f").forEach((t=>t()))}}$t=new WeakMap,xt=new WeakMap,kt=new WeakMap,Et=new WeakMap,Ct=new WeakMap,At=new WeakMap,_t=new WeakSet,Tt=function(){for(const t of St(this,xt,"f"))t[lt]=!1},Pt=function(){return[...St(this,xt,"f")].filter((t=>t[lt]&&!St(this,Et,"f").has(t)))};var Wt,zt,qt=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};Wt=new WeakMap,zt=new WeakMap;const Ot=new O,Nt=new class{constructor(){Wt.set(this,new Set),zt.set(this,new Set)}signal(t){const e=new yt(t);return qt(this,Wt,"f").add(e),e}computed(t){const e=this.signal(t());return this.reaction((()=>{e.value=t()})),e}op(){const t=new bt;return qt(this,Wt,"f").add(t),t}many(t){return st.map(t,(t=>this.signal(t)))}reaction(t,e){const r=new jt({waiters:qt(this,zt,"f"),all_signals:qt(this,Wt,"f")}),i={collector:t,responder:e},{recording:n}=r.observe(i.collector);return r.add_listeners(i,n),()=>r.shutdown()}lean(t){const e=new jt({waiters:qt(this,zt,"f"),all_signals:qt(this,Wt,"f")}),r={lean:!0,actor:t};return{stop:()=>e.shutdown(),collect:t=>{const{payload:i,recording:n}=e.observe(t);return e.add_listeners(r,n),i}}}get wait(){return Promise.all([...qt(this,Wt,"f")].map((t=>t.wait))).then((()=>Promise.all([...qt(this,zt,"f")]))).then((()=>{qt(this,zt,"f").clear()}))}},Ut=new class{constructor(t){rt.set(this,void 0),it.set(this,new Set),nt.set(this,new Set),ot.set(this,new Map),at(this,rt,t,"f")}dispatch(){for(const t of ct(this,it,"f"))t();for(const t of ct(this,nt,"f"))t()}computed(t){const e=ct(this,rt,"f").signal(t());return ct(this,it,"f").add((()=>{e.value=t()})),e}track(t,e){let r=!0;const i=()=>{const i=t(),n=ct(this,ot,"f").get(t);!r&&et(i,n)||(r=!1,ct(this,ot,"f").set(t,i),e(i))};return i(),ct(this,nt,"f").add(i),t()}stateTree(t){return new tt(t,(()=>this.dispatch()))}}(Nt);Ot.state.bind(Ot),Nt.signal.bind(Nt);const Rt=new class{constructor(t,e){this.flat=t,this.signals=e,R.set(this,Promise.resolve())}get wait(){return Promise.all([this.flat.wait,this.signals.wait]).then((()=>I(this,R,"f")))}reaction(t,e){const r=e?()=>e(n()):()=>n(),i=this.lean(r),n=()=>i.collect(t);return n(),i.stop}lean(t){const e=this.flat.lean(t),r=this.signals.lean(t);return{stop(){e.stop(),r.stop()},collect:t=>e.collect((()=>r.collect(t)))}}}(Ot,Nt);function It(){let t,e;return{promise:new Promise(((r,i)=>{t=r,e=i})),resolve:t,reject:e}}var Ht,Dt,Lt,Bt=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},Ft=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class Vt{static with(t){return new this(t)}constructor(t){Ht.set(this,void 0),Bt(this,Ht,t,"f")}to(t){return new Vt(t(Ft(this,Ht,"f")))}done(){return Ft(this,Ht,"f")}}function Jt(){const t=new Set;function e(e){return t.add(e),()=>{t.delete(e)}}return e.publish=e=>{for(const r of t)r(e)},e.clear=()=>t.clear(),e.once=e=>{const r=i=>{e(i),t.delete(r)};return t.add(r),()=>{t.delete(r)}},e}Ht=new WeakMap,function(t){t.actualize=function t(e,r){return st.map(r,(r=>"function"==typeof r?(...t)=>{e.transmute((e=>(r(e,(t=>{e=t}))(...t),e)))}:t(e,r)))},t.fn=function(){return t=>t},t.blueprint=function(){return t=>t},t.prepFn=t=>e=>(r,i)=>(...n)=>(e(t(r,i))(...n),r),t.prepBlueprint=e=>r=>r(t.prepFn(e)),t.prep=function(e){return{action:t.prepFn(e),blueprint:t.prepBlueprint(e)}}}(Dt||(Dt={})),function(t){t.proxy=(t,e)=>new Proxy(e,{get:(r,i)=>{const n=e[i],o=t.getAttribute(i);switch(n){case String:return null!=o?o:void 0;case Number:return null!==o?Number(o):void 0;case Boolean:return null!==o;default:throw new Error(`invalid attribute type for "${i}"`)}},set:(r,i,n)=>{switch(e[i]){case String:return t.setAttribute(i,n),!0;case Number:return t.setAttribute(i,n.toString()),!0;case Boolean:return n?t.setAttribute(i,""):t.removeAttribute(i),!0;default:throw new Error(`invalid attribute type for "${i}"`)}}}),t.on_change=function(t,e){const r=new MutationObserver(e);return r.observe(t,{attributes:!0}),()=>r.disconnect()}}(Lt||(Lt={}));var Kt,Zt=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)},Gt=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r};function Yt(t){return[t].flat().filter((t=>!!t))}!function(t){t.css=function(...t){return function(e){return class extends e{static get styles(){return Qt(e.styles,t)}}}},t.css_deferred=function(t){return function(e){return class extends e{static get styles(){return Qt(e.styles,t())}}}},t.signals=function(t){return function(e){var r,i;return i=class extends e{constructor(){super(...arguments),r.set(this,null)}render(){var t;return null===(t=Zt(this,r,"f"))||void 0===t?void 0:t.collect((()=>super.render()))}connectedCallback(){super.connectedCallback(),Gt(this,r,t.lean((()=>this.requestUpdate())),"f")}disconnectedCallback(){super.disconnectedCallback(),Zt(this,r,"f")&&(Zt(this,r,"f").stop(),Gt(this,r,null,"f"))}},r=new WeakMap,i}},t.flat=function(t){return function(e){var r,i;return i=class extends e{constructor(){super(...arguments),r.set(this,null)}render(){var t;return null===(t=Zt(this,r,"f"))||void 0===t?void 0:t.collect((()=>super.render()))}connectedCallback(){super.connectedCallback(),Gt(this,r,t.lean((()=>this.requestUpdate())),"f")}disconnectedCallback(){super.disconnectedCallback(),Zt(this,r,"f")&&(Zt(this,r,"f").stop(),Gt(this,r,null,"f"))}},r=new WeakMap,i}},t.reactor=function(t=Rt){return function(e){var r,i;return i=class extends e{constructor(){super(...arguments),r.set(this,null)}render(){var t;return null===(t=Zt(this,r,"f"))||void 0===t?void 0:t.collect((()=>super.render()))}connectedCallback(){super.connectedCallback(),Gt(this,r,t.lean((()=>this.requestUpdate())),"f")}disconnectedCallback(){super.disconnectedCallback(),Zt(this,r,"f")&&(Zt(this,r,"f").stop(),Gt(this,r,null,"f"))}},r=new WeakMap,i}}}(Kt||(Kt={}));const Xt=t=>void 0!==t;function Qt(t,e){var r;return[...null!==(r=Yt(t))&&void 0!==r?r:[],...Yt(e)].flat().filter(Xt)}var te;!function(t){t.css=t=>e=>st.map(e,(e=>Kt.css(t)(e))),t.flat=t=>e=>st.map(e,(e=>Kt.flat(t)(e))),t.signals=t=>e=>st.map(e,(e=>Kt.signals(t)(e))),t.reactor=(t=Rt)=>e=>st.map(e,(e=>Kt.reactor(t)(e))),t.context=e=>r=>Vt.with(r).to(t.css(e.theme)).to(t.reactor()).done()}(te||(te={}));const ee=t=>{for(const[e,r]of Object.entries(t))customElements.define(e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),r)},re=globalThis,ie=re.ShadowRoot&&(void 0===re.ShadyCSS||re.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ne=Symbol(),oe=new WeakMap;let se=class{constructor(t,e,r){if(this._$cssResult$=!0,r!==ne)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(ie&&void 0===t){const r=void 0!==e&&1===e.length;r&&(t=oe.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&oe.set(e,t))}return t}toString(){return this.cssText}};const ae=t=>new se("string"==typeof t?t:t+"",void 0,ne),ce=(t,...e)=>{const r=1===t.length?t[0]:e.reduce(((e,r,i)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+t[i+1]),t[0]);return new se(r,t,ne)},le=(t,e)=>{if(ie)t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const r of e){const e=document.createElement("style"),i=re.litNonce;void 0!==i&&e.setAttribute("nonce",i),e.textContent=r.cssText,t.appendChild(e)}},de=ie?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const r of t.cssRules)e+=r.cssText;return ae(e)})(t):t,{is:ue,defineProperty:he,getOwnPropertyDescriptor:pe,getOwnPropertyNames:fe,getOwnPropertySymbols:me,getPrototypeOf:we}=Object,ge=globalThis,ve=ge.trustedTypes,ye=ve?ve.emptyScript:"",be=ge.reactiveElementPolyfillSupport,_e=(t,e)=>t,$e={toAttribute(t,e){switch(e){case Boolean:t=t?ye:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=null!==t;break;case Number:r=null===t?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch(t){r=null}}return r}},xe=(t,e)=>!ue(t,e),ke={attribute:!0,type:String,converter:$e,reflect:!1,hasChanged:xe};Symbol.metadata??=Symbol("metadata"),ge.litPropertyMetadata??=new WeakMap;let Ee=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=ke){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(t,r,e);void 0!==i&&he(this.prototype,t,i)}}static getPropertyDescriptor(t,e,r){const{get:i,set:n}=pe(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get(){return i?.call(this)},set(e){const o=i?.call(this);n.call(this,e),this.requestUpdate(t,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??ke}static _$Ei(){if(this.hasOwnProperty(_e("elementProperties")))return;const t=we(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(_e("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(_e("properties"))){const t=this.properties,e=[...fe(t),...me(t)];for(const r of e)this.createProperty(r,t[r])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,r]of e)this.elementProperties.set(t,r)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const r=this._$Eu(t,e);void 0!==r&&this._$Eh.set(r,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const t of r)e.unshift(de(t))}else void 0!==t&&e.push(de(t));return e}static _$Eu(t,e){const r=e.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$Eg=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$ES(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$E_??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$E_?.delete(t)}_$ES(){const t=new Map,e=this.constructor.elementProperties;for(const r of e.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return le(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$E_?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$E_?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,r){this._$AK(t,r)}_$EO(t,e){const r=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,r);if(void 0!==i&&!0===r.reflect){const n=(void 0!==r.converter?.toAttribute?r.converter:$e).toAttribute(e,r.type);this._$Em=t,null==n?this.removeAttribute(i):this.setAttribute(i,n),this._$Em=null}}_$AK(t,e){const r=this.constructor,i=r._$Eh.get(t);if(void 0!==i&&this._$Em!==i){const t=r.getPropertyOptions(i),n="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:$e;this._$Em=i,this[i]=n.fromAttribute(e,t.type),this._$Em=null}}requestUpdate(t,e,r,i=!1,n){if(void 0!==t){if(r??=this.constructor.getPropertyOptions(t),!(r.hasChanged??xe)(i?n:this[t],e))return;this.C(t,e,r)}!1===this.isUpdatePending&&(this._$Eg=this._$EP())}C(t,e,r){this._$AL.has(t)||this._$AL.set(t,e),!0===r.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$EP(){this.isUpdatePending=!0;try{await this._$Eg}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,r]of t)!0!==r.wrapped||this._$AL.has(e)||void 0===this[e]||this.C(e,this[e],r)}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$E_?.forEach((t=>t.hostUpdate?.())),this.update(e)):this._$ET()}catch(e){throw t=!1,this._$ET(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$E_?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$ET(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Eg}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EO(t,this[t]))),this._$ET()}updated(t){}firstUpdated(t){}};Ee.elementStyles=[],Ee.shadowRootOptions={mode:"open"},Ee[_e("elementProperties")]=new Map,Ee[_e("finalized")]=new Map,be?.({ReactiveElement:Ee}),(ge.reactiveElementVersions??=[]).push("2.0.2");const Ce=globalThis,Ae=Ce.trustedTypes,Te=Ae?Ae.createPolicy("lit-html",{createHTML:t=>t}):void 0,Pe="$lit$",Me=`lit$${(Math.random()+"").slice(9)}$`,Se="?"+Me,je=`<${Se}>`,We=document,ze=()=>We.createComment(""),qe=t=>null===t||"object"!=typeof t&&"function"!=typeof t,Oe=Array.isArray,Ne="[ \t\n\f\r]",Ue=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Re=/-->/g,Ie=/>/g,He=RegExp(`>|${Ne}(?:([^\\s"'>=/]+)(${Ne}*=${Ne}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),De=/'/g,Le=/"/g,Be=/^(?:script|style|textarea|title)$/i,Fe=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),Ve=Fe(1),Je=Fe(2),Ke=Symbol.for("lit-noChange"),Ze=Symbol.for("lit-nothing"),Ge=new WeakMap,Ye=We.createTreeWalker(We,129);function Xe(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==Te?Te.createHTML(e):e}const Qe=(t,e)=>{const r=t.length-1,i=[];let n,o=2===e?"<svg>":"",s=Ue;for(let e=0;e<r;e++){const r=t[e];let a,c,l=-1,d=0;for(;d<r.length&&(s.lastIndex=d,c=s.exec(r),null!==c);)d=s.lastIndex,s===Ue?"!--"===c[1]?s=Re:void 0!==c[1]?s=Ie:void 0!==c[2]?(Be.test(c[2])&&(n=RegExp("</"+c[2],"g")),s=He):void 0!==c[3]&&(s=He):s===He?">"===c[0]?(s=n??Ue,l=-1):void 0===c[1]?l=-2:(l=s.lastIndex-c[2].length,a=c[1],s=void 0===c[3]?He:'"'===c[3]?Le:De):s===Le||s===De?s=He:s===Re||s===Ie?s=Ue:(s=He,n=void 0);const u=s===He&&t[e+1].startsWith("/>")?" ":"";o+=s===Ue?r+je:l>=0?(i.push(a),r.slice(0,l)+Pe+r.slice(l)+Me+u):r+Me+(-2===l?e:u)}return[Xe(t,o+(t[r]||"<?>")+(2===e?"</svg>":"")),i]};class tr{constructor({strings:t,_$litType$:e},r){let i;this.parts=[];let n=0,o=0;const s=t.length-1,a=this.parts,[c,l]=Qe(t,e);if(this.el=tr.createElement(c,r),Ye.currentNode=this.el.content,2===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(i=Ye.nextNode())&&a.length<s;){if(1===i.nodeType){if(i.hasAttributes())for(const t of i.getAttributeNames())if(t.endsWith(Pe)){const e=l[o++],r=i.getAttribute(t).split(Me),s=/([.?@])?(.*)/.exec(e);a.push({type:1,index:n,name:s[2],strings:r,ctor:"."===s[1]?or:"?"===s[1]?sr:"@"===s[1]?ar:nr}),i.removeAttribute(t)}else t.startsWith(Me)&&(a.push({type:6,index:n}),i.removeAttribute(t));if(Be.test(i.tagName)){const t=i.textContent.split(Me),e=t.length-1;if(e>0){i.textContent=Ae?Ae.emptyScript:"";for(let r=0;r<e;r++)i.append(t[r],ze()),Ye.nextNode(),a.push({type:2,index:++n});i.append(t[e],ze())}}}else if(8===i.nodeType)if(i.data===Se)a.push({type:2,index:n});else{let t=-1;for(;-1!==(t=i.data.indexOf(Me,t+1));)a.push({type:7,index:n}),t+=Me.length-1}n++}}static createElement(t,e){const r=We.createElement("template");return r.innerHTML=t,r}}function er(t,e,r=t,i){if(e===Ke)return e;let n=void 0!==i?r._$Co?.[i]:r._$Cl;const o=qe(e)?void 0:e._$litDirective$;return n?.constructor!==o&&(n?._$AO?.(!1),void 0===o?n=void 0:(n=new o(t),n._$AT(t,r,i)),void 0!==i?(r._$Co??=[])[i]=n:r._$Cl=n),void 0!==n&&(e=er(t,n._$AS(t,e.values),n,i)),e}class rr{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:r}=this._$AD,i=(t?.creationScope??We).importNode(e,!0);Ye.currentNode=i;let n=Ye.nextNode(),o=0,s=0,a=r[0];for(;void 0!==a;){if(o===a.index){let e;2===a.type?e=new ir(n,n.nextSibling,this,t):1===a.type?e=new a.ctor(n,a.name,a.strings,this,t):6===a.type&&(e=new cr(n,this,t)),this._$AV.push(e),a=r[++s]}o!==a?.index&&(n=Ye.nextNode(),o++)}return Ye.currentNode=We,i}p(t){let e=0;for(const r of this._$AV)void 0!==r&&(void 0!==r.strings?(r._$AI(t,r,e),e+=r.strings.length-2):r._$AI(t[e])),e++}}class ir{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,r,i){this.type=2,this._$AH=Ze,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=r,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=er(this,t,e),qe(t)?t===Ze||null==t||""===t?(this._$AH!==Ze&&this._$AR(),this._$AH=Ze):t!==this._$AH&&t!==Ke&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):(t=>Oe(t)||"function"==typeof t?.[Symbol.iterator])(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Ze&&qe(this._$AH)?this._$AA.nextSibling.data=t:this.$(We.createTextNode(t)),this._$AH=t}g(t){const{values:e,_$litType$:r}=t,i="number"==typeof r?this._$AC(t):(void 0===r.el&&(r.el=tr.createElement(Xe(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===i)this._$AH.p(e);else{const t=new rr(i,this),r=t.u(this.options);t.p(e),this.$(r),this._$AH=t}}_$AC(t){let e=Ge.get(t.strings);return void 0===e&&Ge.set(t.strings,e=new tr(t)),e}T(t){Oe(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let r,i=0;for(const n of t)i===e.length?e.push(r=new ir(this.k(ze()),this.k(ze()),this,this.options)):r=e[i],r._$AI(n),i++;i<e.length&&(this._$AR(r&&r._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class nr{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,r,i,n){this.type=1,this._$AH=Ze,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=n,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Ze}_$AI(t,e=this,r,i){const n=this.strings;let o=!1;if(void 0===n)t=er(this,t,e,0),o=!qe(t)||t!==this._$AH&&t!==Ke,o&&(this._$AH=t);else{const i=t;let s,a;for(t=n[0],s=0;s<n.length-1;s++)a=er(this,i[r+s],e,s),a===Ke&&(a=this._$AH[s]),o||=!qe(a)||a!==this._$AH[s],a===Ze?t=Ze:t!==Ze&&(t+=(a??"")+n[s+1]),this._$AH[s]=a}o&&!i&&this.O(t)}O(t){t===Ze?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class or extends nr{constructor(){super(...arguments),this.type=3}O(t){this.element[this.name]=t===Ze?void 0:t}}class sr extends nr{constructor(){super(...arguments),this.type=4}O(t){this.element.toggleAttribute(this.name,!!t&&t!==Ze)}}class ar extends nr{constructor(t,e,r,i,n){super(t,e,r,i,n),this.type=5}_$AI(t,e=this){if((t=er(this,t,e,0)??Ze)===Ke)return;const r=this._$AH,i=t===Ze&&r!==Ze||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,n=t!==Ze&&(r===Ze||i);i&&this.element.removeEventListener(this.name,this,r),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class cr{constructor(t,e,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){er(this,t)}}const lr=Ce.litHtmlPolyfillSupport;lr?.(tr,ir),(Ce.litHtmlVersions??=[]).push("3.1.0");const dr=(t,e,r)=>{const i=r?.renderBefore??e;let n=i._$litPart$;if(void 0===n){const t=r?.renderBefore??null;i._$litPart$=n=new ir(e.insertBefore(ze(),t),t,void 0,r??{})}return n._$AI(t),n};let ur=class extends Ee{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=dr(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Ke}};ur._$litElement$=!0,ur.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:ur});const hr=globalThis.litElementPolyfillSupport;hr?.({LitElement:ur}),(globalThis.litElementVersions??=[]).push("4.0.2");var pr=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class fr extends(function(t){var e,r,i;return i=class extends t{constructor(){super(...arguments),e.set(this,(new Set).add((()=>this.setup()))),r.set(this,new Set)}register_setup(t){pr(this,e,"f").add(t)}setup(){return()=>{}}connectedCallback(){for(const t of pr(this,e,"f"))pr(this,r,"f").add(t())}disconnectedCallback(){for(const t of pr(this,r,"f"))t();pr(this,r,"f").clear()}},e=new WeakMap,r=new WeakMap,i}(HTMLElement)){}function mr(t,e){le(t,function(t){const e=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const t of r)e.unshift(de(t))}else void 0!==t&&e.push(de(t));return e}(e))}var wr,gr,vr,yr,br=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},_r=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class $r extends fr{static get styles(){}init(){}constructor(){super(),wr.set(this,void 0),gr.set(this,It()),vr.set(this,_r(this,gr,"f").promise),yr.set(this,_(0,(()=>{const t=_r(this,wr,"f"),e=this.render();e&&dr(e,t,{host:this})}))),br(this,wr,this.attachShadow({mode:"open"}),"f");const t=this.constructor;mr(_r(this,wr,"f"),t.styles),this.init()}get root(){return _r(this,wr,"f")}get updateComplete(){return _r(this,vr,"f").then((()=>!0))}render(){}async requestUpdate(){const t=_r(this,yr,"f").call(this);return _r(this,gr,"f")&&(t.then(_r(this,gr,"f").resolve),br(this,gr,void 0,"f")),br(this,vr,t,"f"),t}connectedCallback(){super.connectedCallback(),this.requestUpdate()}}wr=new WeakMap,gr=new WeakMap,vr=new WeakMap,yr=new WeakMap;var xr,kr,Er,Cr=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)},Ar=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r};class Tr extends fr{init(){}constructor(){super(),xr.set(this,It()),kr.set(this,Cr(this,xr,"f").promise),Er.set(this,_(0,(()=>{const t=this.render();dr(t,this,{host:this})}))),this.init()}get updateComplete(){return Cr(this,kr,"f").then((()=>!0))}render(){}async requestUpdate(){const t=Cr(this,Er,"f").call(this);return Cr(this,xr,"f")&&(t.then(Cr(this,xr,"f").resolve),Ar(this,xr,void 0,"f")),Ar(this,kr,t,"f"),t}connectedCallback(){super.connectedCallback(),this.requestUpdate()}}xr=new WeakMap,kr=new WeakMap,Er=new WeakMap;var Pr,Mr,Sr,jr,Wr,zr,qr,Or,Nr,Ur,Rr,Ir,Hr,Dr,Lr=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)},Br=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r};class Fr{static wrap(t,e){return(...r)=>(Lr(t,Sr,"f").reset(),e(...r))}static disconnect(t){for(const e of Lr(t,Wr,"f"))e();Lr(t,Wr,"f").clear();for(const e of Lr(t,Or,"f"))e();Lr(t,Or,"f").clear(),Lr(t,qr,"f").clear()}static reconnect(t){for(const e of Lr(t,jr,"f").values())Lr(t,Wr,"f").add(e());for(const[e,r]of Lr(t,zr,"f").entries()){const[i,n]=r();Lr(t,qr,"f").set(e,i),Lr(t,Or,"f").add(n)}}constructor(t,e){Pr.set(this,void 0),Mr.set(this,void 0),Sr.set(this,new Vr),jr.set(this,new Map),Wr.set(this,new Set),zr.set(this,new Map),qr.set(this,new Map),Or.set(this,new Set),Nr.set(this,new Map),Ur.set(this,new Map),Rr.set(this,new Map),Ir.set(this,new Map),Hr.set(this,new Map),Br(this,Mr,t,"f"),Br(this,Pr,e,"f")}get context(){return Lr(this,Pr,"f")}rerender(){Lr(this,Mr,"f").call(this)}setup(t){const e=Lr(this,Sr,"f").pull();Lr(this,jr,"f").has(e)||(Lr(this,jr,"f").set(e,t),Lr(this,Wr,"f").add(t()))}init(t){const e=Lr(this,Sr,"f").pull();if(!Lr(this,zr,"f").has(e)){Lr(this,zr,"f").set(e,t);const[r,i]=t();return Lr(this,qr,"f").set(e,r),Lr(this,Or,"f").add(i),r}return Lr(this,qr,"f").get(e)}prepare(t){const e=Lr(this,Sr,"f").pull();return s(Lr(this,Ur,"f")).grab(e,t)}state(t){const e=Lr(this,Sr,"f").pull();return[s(Lr(this,Nr,"f")).grab(e,(()=>"function"==typeof t?t():t)),t=>{Lr(this,Nr,"f").set(e,t),Lr(this,Mr,"f").call(this)},()=>Lr(this,Nr,"f").get(e)]}flatstate(t){const e=Lr(this,Sr,"f").pull();return s(Lr(this,Rr,"f")).grab(e,(()=>Ot.state("function"==typeof t?t():t)))}signal(t){const e=Lr(this,Sr,"f").pull();return s(Lr(this,Ir,"f")).grab(e,(()=>Nt.signal("function"==typeof t?t():t)))}computed(t){const e=Lr(this,Sr,"f").pull();return s(Lr(this,Ir,"f")).grab(e,(()=>Nt.computed(t)))}op(){const t=Lr(this,Sr,"f").pull();return s(Lr(this,Ir,"f")).grab(t,(()=>Nt.op()))}watch(t){const e=Lr(this,Sr,"f").pull();return s(Lr(this,Hr,"f")).grab(e,(()=>Ut.track(t,(t=>{Lr(this,Hr,"f").set(e,t),Lr(this,Mr,"f").call(this)}))))}}Pr=new WeakMap,Mr=new WeakMap,Sr=new WeakMap,jr=new WeakMap,Wr=new WeakMap,zr=new WeakMap,qr=new WeakMap,Or=new WeakMap,Nr=new WeakMap,Ur=new WeakMap,Rr=new WeakMap,Ir=new WeakMap,Hr=new WeakMap;class Vr{constructor(){Dr.set(this,0)}pull(){var t,e;return Br(this,Dr,(e=Lr(this,Dr,"f"),t=e++,e),"f"),t}reset(){Br(this,Dr,0,"f")}}Dr=new WeakMap;var Jr,Kr,Zr=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)},Gr=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r};class Yr extends Fr{get element(){return Zr(this,Jr,"f")}get shadow(){return Zr(this,Kr,"f")}constructor(t,e,r,i){super(r,i),Jr.set(this,void 0),Kr.set(this,void 0),Gr(this,Jr,t,"f"),Gr(this,Kr,e,"f")}}function Xr(t){let e;return function(r){return e||(e=function(t,e){return Lt.on_change(t,(()=>t.requestUpdate())),Lt.proxy(t,e)}(t,r)),e}}Jr=new WeakMap,Kr=new WeakMap;class Qr extends Yr{constructor(t,e,r,i){super(t,e,r,i),this.attrs=Xr(t)}}var ti,ei=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)},ri=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r};class ii extends Fr{get element(){return ei(this,ti,"f")}constructor(t,e,r){super(e,r),ti.set(this,void 0),ri(this,ti,t,"f"),this.attrs=Xr(t)}}ti=new WeakMap;class ni extends Qr{}class oi extends ii{}class si extends Fr{}class ai extends Yr{}function ci(t,e){const r=Rt.lean(e);return{stop:r.stop,render:(...e)=>r.collect((()=>t(...e)))}}var li=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)},di=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r};const ui=t=>(e,r)=>{var i,n,o,s;return s=class extends $r{constructor(){super(...arguments),i.set(this,new ni(this,this.root,(()=>{this.requestUpdate()}),t.context)),n.set(this,ni.wrap(li(this,i,"f"),(()=>r(li(this,i,"f"))))),o.set(this,void 0)}static get styles(){var r;return[t.context.theme,null!==(r=e.styles)&&void 0!==r?r:ce``]}render(){var t;return null===(t=li(this,o,"f"))||void 0===t?void 0:t.render()}connectedCallback(){super.connectedCallback(),ni.reconnect(li(this,i,"f")),di(this,o,ci(li(this,n,"f"),(()=>{this.requestUpdate()})),"f")}disconnectedCallback(){super.disconnectedCallback(),ni.disconnect(li(this,i,"f")),li(this,o,"f")&&(li(this,o,"f").stop(),di(this,o,void 0,"f"))}},i=new WeakMap,n=new WeakMap,o=new WeakMap,s.label=e.name,s},hi=2,pi=t=>(...e)=>({_$litDirective$:t,values:e});class fi{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,r){this._$Ct=t,this._$AM=e,this._$Ci=r}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}const mi=(t,e)=>{const r=t._$AN;if(void 0===r)return!1;for(const t of r)t._$AO?.(e,!1),mi(t,e);return!0},wi=t=>{let e,r;do{if(void 0===(e=t._$AM))break;r=e._$AN,r.delete(t),t=e}while(0===r?.size)},gi=t=>{for(let e;e=t._$AM;t=e){let r=e._$AN;if(void 0===r)e._$AN=r=new Set;else if(r.has(t))break;r.add(t),bi(e)}};function vi(t){void 0!==this._$AN?(wi(this),this._$AM=t,gi(this)):this._$AM=t}function yi(t,e=!1,r=0){const i=this._$AH,n=this._$AN;if(void 0!==n&&0!==n.size)if(e)if(Array.isArray(i))for(let t=r;t<i.length;t++)mi(i[t],!1),wi(i[t]);else null!=i&&(mi(i,!1),wi(i));else mi(this,t)}const bi=t=>{t.type==hi&&(t._$AP??=yi,t._$AQ??=vi)};class _i extends fi{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,r){super._$AT(t,e,r),gi(this),this.isConnected=t._$AU}_$AO(t,e=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),e&&(mi(this,t),wi(this))}setValue(t){if((t=>void 0===t.strings)(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}class $i extends HTMLElement{constructor(){super(...arguments),this.onConnected=Jt(),this.onDisconnected=Jt()}connectedCallback(){this.onConnected.publish()}disconnectedCallback(){this.onDisconnected.publish()}}function xi(...t){const e=new Set,r=t.map((t=>null!=t?t:"")).flatMap(ki);for(const t of r)e.add(t);return e}function ki(t){return t.split(/\s+/).map((t=>t.trim())).filter((t=>!!t))}function Ei(t){return t.split(",").map((t=>t.trim())).filter((t=>!!t)).map((t=>t.includes(":")?t.split(":").map((t=>t.trim()))[1]:t))}function Ci(t,e){const r=xi(t.getAttribute("part")),i=xi(t.getAttribute("data-gpart")),n=function(t,e){return Object.fromEntries(Object.entries(e).map((([e,r])=>[e,Array.from(t.querySelectorAll(`[${r}]`)).map((t=>t.getAttribute(r)))])))}(e,{part:"part",gpart:"data-gpart",exportparts:"exportparts",gexportparts:"gexportparts"}),o=new Set([...n.part.flatMap(ki),...n.exportparts.flatMap(Ei)]),s=new Set([...n.gpart.flatMap(ki),...n.gexportparts.flatMap(ki)]);o.size&&t.setAttribute("exportparts",[...r].flatMap(function(t,e){return r=>[...t].flatMap((t=>[`${t}:${r}-${t}`,...e.has(t)?[t]:[]]))}(o,s)).join(", ")),(s.size||t.hasAttribute("data-gpart"))&&t.setAttribute("gexportparts",[...s,...[...i].flatMap((t=>[...o].map((e=>`${t}-${e}`))))].join(" "))}function Ai(t,e={},r={}){const{content:i,attrs:n={}}=e,{attrs:o={}}=r;function s(e,r,i,n){e!==r&&(void 0===e?t.removeAttribute(i):t.setAttribute(i,n()))}n&&function(t,e){for(const[r,i]of Object.entries(e))"string"==typeof i?t.setAttribute(r,i):"number"==typeof i?t.setAttribute(r,i.toString()):"boolean"==typeof i?!0===i?t.setAttribute(r,""):t.removeAttribute(r):void 0===i?t.removeAttribute(r):console.warn(`invalid attribute type ${r} is ${typeof i}`)}(t,n),s(n.class,null==o?void 0:o.class,"class",(()=>n.class)),s(n.part,null==o?void 0:o.part,"part",(()=>n.part)),s(n.gpart,null==o?void 0:o.gpart,"data-gpart",(()=>n.gpart)),i&&dr(i,t,{host:t})}$i.tag="obsidian-view",ee({ObsidianView:$i});var Ti=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)},Pi=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r};const Mi=t=>(e={},r)=>{var i,n,o,s,a,c,l,d;return(t=>(e,r={})=>({_$litDirective$:t,values:[{meta:r,props:e}]}))((d=class extends _i{constructor(){var d,u;super(...arguments),i.set(this,void 0),n.set(this,!0),o.set(this,function({name:t,css:e,onConnected:r,onDisconnected:i}){const n=document.createElement($i.tag);n.setAttribute("view",t),n.onConnected(r),n.onDisconnected(i);const o=n.attachShadow({mode:"open"});mr(o,e);let s=!1;return{container:n,shadow:o,set auto_exportparts(t){s=t},render_into_shadow:t=>(dr(t,o),s&&Ci(n,o),n)}}({name:null!==(d=e.name)&&void 0!==d?d:"",css:[t.context.theme,null!==(u=e.styles)&&void 0!==u?u:ce``],onDisconnected:()=>this.disconnected(),onConnected:()=>{Ti(this,n,"f")||this.reconnected(),Pi(this,n,!1,"f")}})),s.set(this,_(0,(()=>{Ti(this,i,"f")&&this.setValue(Ti(this,o,"f").render_into_shadow(this.render(Ti(this,i,"f"))))}))),a.set(this,new ai(Ti(this,o,"f").container,Ti(this,o,"f").shadow,Ti(this,s,"f"),t.context)),c.set(this,ai.wrap(Ti(this,a,"f"),r(Ti(this,a,"f")))),l.set(this,ci(Ti(this,c,"f"),Ti(this,s,"f")))}update(t,e){return Ti(this,o,"f").render_into_shadow(this.render(...e))}render(t){var r,n,s,a;return Ai(Ti(this,o,"f").container,t.meta,null===(r=Ti(this,i,"f"))||void 0===r?void 0:r.meta),Pi(this,i,t,"f"),Ti(this,o,"f").auto_exportparts=null===(s=null!==(n=t.meta.auto_exportparts)&&void 0!==n?n:e.auto_exportparts)||void 0===s||s,null===(a=Ti(this,l,"f"))||void 0===a?void 0:a.render(...t.props)}reconnected(){ai.reconnect(Ti(this,a,"f")),Pi(this,l,ci(Ti(this,c,"f"),Ti(this,s,"f")),"f")}disconnected(){ai.disconnect(Ti(this,a,"f")),Ti(this,l,"f")&&(Ti(this,l,"f").stop(),Pi(this,l,void 0,"f"))}},i=new WeakMap,n=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,d))};var Si=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)},ji=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r};const Wi=t=>e=>{var r,i,n,o;return o=class extends Tr{constructor(){super(...arguments),r.set(this,new oi(this,(()=>{this.requestUpdate()}),t.context)),i.set(this,oi.wrap(Si(this,r,"f"),(()=>e(Si(this,r,"f"))))),n.set(this,void 0)}render(){var t;return null===(t=Si(this,n,"f"))||void 0===t?void 0:t.render()}connectedCallback(){super.connectedCallback(),ji(this,n,ci(Si(this,i,"f"),(()=>{this.requestUpdate()})),"f"),oi.reconnect(Si(this,r,"f"))}disconnectedCallback(){super.disconnectedCallback(),Si(this,n,"f")&&(Si(this,n,"f").stop(),ji(this,n,void 0,"f")),oi.disconnect(Si(this,r,"f"))}},r=new WeakMap,i=new WeakMap,n=new WeakMap,o};var zi=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},qi=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};const Oi=t=>e=>{var r,i,n,o,s,a;return pi((a=class extends _i{constructor(){super(...arguments),r.set(this,void 0),i.set(this,_(0,(()=>{qi(this,r,"f")&&this.setValue(this.render(...qi(this,r,"f")))}))),n.set(this,new si(qi(this,i,"f"),t.context)),o.set(this,si.wrap(qi(this,n,"f"),e(qi(this,n,"f")))),s.set(this,ci(qi(this,o,"f"),qi(this,i,"f")))}render(...t){var e;return zi(this,r,t,"f"),null===(e=qi(this,s,"f"))||void 0===e?void 0:e.render(...t)}reconnected(){si.reconnect(qi(this,n,"f")),zi(this,s,ci(qi(this,o,"f"),qi(this,i,"f")),"f")}disconnected(){si.disconnect(qi(this,n,"f")),qi(this,s,"f")&&(qi(this,s,"f").stop(),zi(this,s,void 0,"f"))}},r=new WeakMap,i=new WeakMap,n=new WeakMap,o=new WeakMap,s=new WeakMap,a))};let Ni=class{constructor(){this.theme=ce`
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}
	`}};const Ui=(t,...e)=>Ve(t,...e.map((t=>t instanceof yt?t.value:t)));var Ri,Ii=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},Hi=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class Di{constructor(t){Ri.set(this,void 0),Ii(this,Ri,t,"f")}get context(){if(Hi(this,Ri,"f"))return Hi(this,Ri,"f");throw new Error("slate.context was not set, but it's necessary")}set context(t){Ii(this,Ri,t,"f")}}Ri=new WeakMap;const Li={page_size:250,api_version:"2023-04",image_format:"WEBP"};class Bi extends Error{constructor(){super(...arguments),this.name=this.constructor.name}}class Fi extends Bi{constructor({message:t,path:e}){super(`${t}  ${e.join("  ")}`)}}class Vi extends Bi{constructor(t){super(`not found (${t})`)}}class Ji extends Bi{constructor(t){super(Ji.format(t)),this.errors=t}static format(t){return t.map((t=>`(${t.code}) ${t.field.join(".")}: ${t.message}`)).join(";")}}var Ki,Zi=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},Gi=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class Yi{constructor(t){Ki.set(this,void 0),Zi(this,Ki,t,"f")}async request({query:t,variables:e}){const{domain:r,storefront_access_token:i,api_version:n=Li.api_version}=Gi(this,Ki,"f"),o=`https://${r}/api/${n}/graphql`,s={"Content-Type":"application/json",Accept:"application/json","X-Sdk-Variant":"javascript","X-Sdk-Version":"2.19.0","X-Shopify-Storefront-Access-Token":i},a=await fetch(o,{method:"POST",headers:s,mode:"cors",body:JSON.stringify({query:t,variables:e}),credentials:"omit"}),c=await a.json();if("errors"in c)for(const t of c.errors)throw new Fi(t);return c.data}}async function*Xi(t){let e,r=0;let i=!0;for(;i;){r+=1;const n=await t(e);if(!n)throw new Vi("paginated resource not found");const{edges:o,pageInfo:{hasNextPage:s,endCursor:a}}=n;e=s?a:void 0;const c=o.map((t=>t.node));i=!(0!==r&&!e),yield[c,i]}}Ki=new WeakMap;const Qi=function(t,...e){return Array.from(t).reduce(((t,r,i)=>{var n;return t+r+(null!==(n=e[i])&&void 0!==n?n:"")}),"")};const tn=()=>Qi`
	pageInfo {
		hasNextPage
		endCursor
	}
`,en=t=>Qi`
	edges {
		node {
			${t}
		}
	}
	${tn()}
`;const rn=t=>Qi`
	edges {
		node {
			${t}
		}
	}
`;function nn(t){function e(e,r){return Qi`
			url(
				transform: {
					maxWidth: ${e}
					maxHeight: ${r}
					preferredContentType: ${t}
				}
			)
		`}return Qi`
		id
		altText
		url_original: url
		url_tiny: ${e(200,200)}
		url_small: ${e(500,500)}
		url_medium: ${e(1e3,1e3)}
		url_large: ${e(2e3,2e3)}
	`}function on({image_format:t}){return Qi`
		availableForSale
		createdAt
		description
		descriptionHtml
		handle
		id
		isGiftCard
		onlineStoreUrl
		productType
		publishedAt
		requiresSellingPlan
		tags
		title
		updatedAt
		vendor

		options(first: ${Li.page_size}) {
			name
			values
		}

		featuredImage {
			id
		}

		collections(first: ${Li.page_size}) {
			${rn(Qi`
				id
			`)}
		}

		images(first: ${Li.page_size}) {
			${rn(nn(t))}
		}

		${Qi`
		variants(first: ${Li.page_size}) {
			${rn(Qi`

				id
				title
				availableForSale
				currentlyNotInStock

				price {
					amount
					currencyCode
				}

				compareAtPrice {
					amount
					currencyCode
				}

				image {
					id
				}

				selectedOptions {
					name
					value
				}

			`)}
		}
	`}
	`}function sn({id:t,image_format:e}){return{query:Qi`
			query FetchProduct($id: ID!) {
				product(id: $id) {
					${on({image_format:e})}
				}
			}
		`,variables:{id:t}}}function an(t){return t.quantity>0}const cn="\\",ln="\\:()\"'";function dn(t,...e){return Array.from(t).reduce(((t,r,i)=>{var n;return t+r+function(t){for(const e of ln)t=t.replace(e,cn+e);return t}(null!==(n=e[i])&&void 0!==n?n:"")}),"")}function un({tags:t=[],terms:e=[]}={}){const r=[];return t.length&&r.push(t.map((t=>dn`(tag:${t})`)).join(" AND ")),e.length&&r.push(e.map((t=>dn`(title:*${t}* OR tag:*${t}*)`)).join(" AND ")),r.length?r.map((t=>`(${t})`)).join(" AND "):void 0}class hn{static setup(t){return new this({remote:new Yi(t)})}constructor(t){this.remote=t.remote}async shop(){return this.remote.request({query:Qi`
			query FetchShopInfo {
				shop {
					name
					description
					shipsToCountries
					paymentSettings {
						currencyCode
						countryCode
					}
				}
			}
		`})}async product(t){var e;const{product:r}=await this.remote.request(sn({id:t.id,image_format:null!==(e=t.image_format)&&void 0!==e?e:Li.image_format}));if(!r)throw new Vi(`product ${t.id}`);return r}async*products(t={}){yield*Xi((async e=>{var r,i,n;return(await this.remote.request(function({query:t,after:e,image_format:r,page_size:i,sort:n,reverse:o}){return{query:Qi`
			query FetchProducts(
				$first: Int!,
				$after: String,
				$sort: ProductSortKeys,
				$reverse: Boolean,
				$query: String,
				) {
				products(
					first: $first,
					after: $after,
					sortKey: $sort,
					reverse: $reverse,
					query: $query,
					) {
					${en(on({image_format:r}))}
				}
			}
		`,variables:{query:t,after:e,first:i,sort:n,reverse:o}}}({after:e,page_size:null!==(r=t.page_size)&&void 0!==r?r:Li.page_size,image_format:null!==(i=t.image_format)&&void 0!==i?i:Li.image_format,query:un(t.query),sort:null!==(n=t.sort)&&void 0!==n?n:"BEST_SELLING",reverse:t.reverse}))).products}))}async*collections(t={}){yield*Xi((async e=>{var r,i;return(await this.remote.request(function({after:t,image_format:e,page_size:r}){return{query:Qi`
			query FetchCollections($first: Int!, $after: String) {
				collections(first: $first, after: $after) {
					${en(Qi`

						description
						descriptionHtml
						handle
						id
						title
						updatedAt
						onlineStoreUrl

						image {
							${nn(e)}
						}

					`)}
				}
			}
		`,variables:{after:t,first:r}}}({after:e,page_size:null!==(r=t.page_size)&&void 0!==r?r:Li.page_size,image_format:null!==(i=t.image_format)&&void 0!==i?i:Li.image_format}))).collections}))}async*tags(t={}){var e;const r=(await this.remote.request(function({page_size:t}){return{query:Qi`
			query FetchTags($first: Int!) {
				productTags(first: $first) {
					${Qi`
	edges {
		node
	}
	${tn()}
`}
				}
			}
		`,variables:{first:t}}}({page_size:null!==(e=t.page_size)&&void 0!==e?e:Li.page_size}))).productTags.edges.map((t=>t.node));yield[r,!1]}async*products_in_collection(t){yield*Xi((async e=>{var r,i,n,o;return null===(o=(await this.remote.request(function({after:t,page_size:e,image_format:r,collection_id:i,filters:n}){return{query:Qi`
			query FetchProductsInCollection(
					$collection_id: ID!,
					$first: Int!,
					$after: String,
					$filters: [ProductFilter!],
				) {
				collection(id: $collection_id) {
					products(first: $first, after: $after, filters: $filters) {
						${en(on({image_format:r}))}
					}
				}
			}
		`,variables:{collection_id:i,first:e,after:t,filters:n}}}({after:e,collection_id:t.collection_id,page_size:null!==(r=t.page_size)&&void 0!==r?r:Li.page_size,image_format:null!==(i=t.image_format)&&void 0!==i?i:Li.image_format,filters:null!==(n=t.filters)&&void 0!==n?n:[]}))).collection)||void 0===o?void 0:o.products}))}async product_recommendations(t){var e;return(await this.remote.request(function({intent:t,product_id:e,image_format:r}){return{query:Qi`
			query FetchProductRecommendations($product_id: ID!, $intent: ProductRecommendationIntent) {
				productRecommendations(productId: $product_id, intent: $intent) {
					${on({image_format:r})}
				}
			}
		`,variables:{intent:t,product_id:e}}}({intent:t.intent,product_id:t.product_id,image_format:null!==(e=t.image_format)&&void 0!==e?e:Li.image_format}))).productRecommendations}async specific_products(t){var e;return(await this.remote.request(function({ids:t,image_format:e}){return{query:Qi`
			query FetchProducts($ids: [ID!]!) {
				products: nodes(ids: $ids) {
					... on Product {
						${on({image_format:e})}
					}
				}
			}
		`,variables:{ids:t}}}({ids:t.ids,image_format:null!==(e=t.image_format)&&void 0!==e?e:Li.image_format}))).products}async checkout(t){const e=await this.remote.request(function({line_items:t}){return{query:Qi`
			mutation CreateCheckout($input: CheckoutCreateInput!) {
				checkoutCreate(input: $input) {
					checkoutUserErrors {
						code
						field
						message
					}
					checkout {
						id
						webUrl
					}
				}
			}
		`,variables:{input:{lineItems:t.filter(an).map((t=>({variantId:t.variant_id,quantity:t.quantity})))}}}}({line_items:t.line_items}));if(!(null==e?void 0:e.checkoutCreate))throw new Vi("Failed to create checkout");const{checkout:r,checkoutUserErrors:i}=e.checkoutCreate;if(i.length>0)throw new Ji(i);return r}async everything(){return async function(t){const e=Object.keys(t),r=Object.values(t),i=await Promise.all(r),n={};return e.forEach(((t,e)=>n[t]=i[e])),n}({shop:this.shop(),tags:hn.all(this.tags()),products:hn.all(this.products()),collections:hn.all(this.collections())})}}hn.all=async function(t){const e=[];for await(const[r]of t)for(const t of r)e.push(t);return e},hn.first=async function(t){const{value:e}=await t.next(),[r]=e;return r};const pn=new class extends Di{constructor(t){super(t),this.light_component=Wi(this),this.shadow_component=ui(this),this.light_view=Oi(this),this.shadow_view=Mi(this)}components(t){return te.context(this.context)(t)}};function fn(t){return e=>function(t,e){return`gid://shopify/${t}/${e}`}(t,e)}const mn={label:t=>t.toLowerCase(),id:{shorten:t=>t.split("/").at(-1),expand:{collection:fn("Collection"),product:fn("Product")}}};var wn,gn,vn,yn,bn=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},_n=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class $n{constructor(t,e){wn.add(this),gn.set(this,void 0),vn.set(this,void 0),bn(this,gn,e,"f"),bn(this,vn,t,"f")}routify(t){const[e,...r]=function(t,e){return e&&"#"===e[0]&&(e=e.slice(1)),t&&e&&e.startsWith(t)&&(e=e.slice(t.length)),e.includes("/")?e.split("/").slice(1):[e]}(_n(this,gn,"f"),t);return _n(this,wn,"m",yn).call(this,e).routify(r)}hashify(t){return _n(this,gn,"f")+_n(this,wn,"m",yn).call(this,t.zone).hashify(t)}}gn=new WeakMap,vn=new WeakMap,wn=new WeakSet,yn=function(t){const e=(r=_n(this,vn,"f"),{home:{hashify:()=>"/",routify:()=>({zone:"home",area:r})},products:{hashify:()=>"/products",routify:()=>({zone:"products"})},collections:{hashify:()=>"/collections",routify:()=>({zone:"collections"})},search:{hashify:({terms:t,tags:e})=>{const r=t=>t.map(encodeURIComponent).join(":");return`/search/${e.length>0?r(t)+"::"+r(e):r(t)}`},routify:t=>{const[e]=t,r=t=>t.split(":").filter((t=>t.length));if(e.includes("::")){const[t,i]=e.split("::"),n=r(i);return{zone:"search",terms:r(t),tags:n}}return{zone:"search",terms:r(e),tags:[]}}},collection:{hashify:({label:t,id:e})=>`/collection/${t}/${mn.id.shorten(e)}`,routify:([t,e])=>({zone:"collection",label:t,id:mn.id.expand.collection(e)})},product:{hashify:({label:t,id:e})=>`/product/${t}/${mn.id.shorten(e)}`,routify:([t,e])=>({zone:"product",label:t,id:mn.id.expand.product(e)})},not_found:{hashify:()=>"/",routify:()=>({zone:"not_found"})}});var r;return""===t&&(t="home"),t in e||(t="not_found"),e[t]};var xn,kn,En,Cn,An,Tn,Pn=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},Mn=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class Sn{constructor({home:t,prefix:e="",set_hash:r}){xn.add(this),kn.set(this,void 0),En.set(this,void 0),Cn.set(this,void 0),An.set(this,void 0),this.on_route_change=Jt(),this.hashchange=t=>{const{hash:e}=new URL(t.newURL);this.apply_hash(e)},this.routes={home:()=>Mn(this,xn,"m",Tn).call(this,{zone:"home",area:Mn(this,An,"f")}),collections:()=>Mn(this,xn,"m",Tn).call(this,{zone:"collections"}),products:()=>Mn(this,xn,"m",Tn).call(this,{zone:"products"}),search:(t,e)=>Mn(this,xn,"m",Tn).call(this,{zone:"search",terms:t,tags:e}),collection:({id:t,handle:e})=>Mn(this,xn,"m",Tn).call(this,{zone:"collection",id:t,label:e}),product:({id:t,handle:e})=>Mn(this,xn,"m",Tn).call(this,{zone:"product",id:t,label:e})},Pn(this,An,t,"f"),Pn(this,kn,r,"f"),Pn(this,Cn,{zone:"home",area:t},"f"),Pn(this,En,new $n(t,e),"f")}static setup(t,e=""){const r=new Sn({home:t,prefix:e,set_hash:t=>location.hash=t});return r.apply_hash(location.hash),addEventListener("hashchange",r.hashchange),r}get route(){return Mn(this,Cn,"f")}set route(t){const e=Mn(this,En,"f").hashify(t);Mn(this,kn,"f").call(this,e)}apply_hash(t){const e=Mn(this,En,"f").routify(t);Pn(this,Cn,e,"f"),this.on_route_change.publish(e)}get search_terms(){const t=Mn(this,Cn,"f");return t&&"search"===t.zone?t.terms:[]}get search_tags(){const t=Mn(this,Cn,"f");return t&&"search"===t.zone?t.tags:[]}}kn=new WeakMap,En=new WeakMap,Cn=new WeakMap,An=new WeakMap,xn=new WeakSet,Tn=function(t){const e=Mn(this,En,"f").hashify(t);return{url:"#"+e,go:()=>Mn(this,kn,"f").call(this,e)}};var jn,Wn,zn,qn,On,Nn,Un,Rn,In=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},Hn=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class Dn{constructor(t,e){jn.add(this),Wn.set(this,void 0),zn.set(this,void 0),qn.set(this,void 0),On.set(this,(t=>Ot.state(t))),In(this,Wn,t,"f"),In(this,zn,e,"f"),In(this,qn,Ot.state({items:[],products:[]}),"f"),this.state=O.readonly(Hn(this,qn,"f"))}save(){const{items:t}=Hn(this,qn,"f");Hn(this,zn,"f").save({items:t})}async load(){const t=Hn(this,zn,"f").load(),e=Hn(this,jn,"m",Rn).call(this,t.items);Hn(this,qn,"f").items=t.items.map(Hn(this,On,"f")),await e}get units(){return Hn(this,qn,"f").items.map((t=>({item:t,product:Hn(this,jn,"m",Un).call(this,t.product_id)}))).filter((t=>!!t.product&&U.is.ready(t.product.op))).map((t=>{const e=U.payload(t.product.op),r=null==e?void 0:e.variants.edges.map((t=>t.node)).find((e=>e.id===t.item.variant_id));return e&&r&&r.availableForSale?{product:e,variant:r,product_id:t.item.product_id,variant_id:t.item.variant_id,quantity:t.item.quantity}:void 0})).filter((t=>!!t))}add(t,e){Hn(this,qn,"f").items=[Hn(this,On,"f").call(this,{product_id:e.id,variant_id:t,quantity:1}),...Hn(this,qn,"f").items.filter((e=>e.variant_id!==t))],Hn(this,qn,"f").products=[Hn(this,On,"f").call(this,{product_id:e.id,op:U.ready(e)}),...Hn(this,qn,"f").products.filter((t=>t.product_id!==e.id))],this.save()}remove(t){Hn(this,qn,"f").items=Hn(this,qn,"f").items.filter((e=>e.variant_id!==t)),this.save()}set_quantity(t,e){Hn(this,jn,"m",Nn).call(this,t).quantity=e,this.save()}clear(){Hn(this,qn,"f").items=[],this.save()}}Wn=new WeakMap,zn=new WeakMap,qn=new WeakMap,On=new WeakMap,jn=new WeakSet,Nn=function(t){return Hn(this,qn,"f").items.find((e=>e.variant_id===t))},Un=function(t){return Hn(this,qn,"f").products.find((e=>e.product_id===t))},Rn=async function(t){var e;const r=t.filter((t=>!Hn(this,jn,"m",Un).call(this,t.product_id))).map((t=>t.product_id)),i=r.map((t=>({product_id:t,op:U.loading()}))).map(Hn(this,On,"f"));if(Hn(this,qn,"f").products=[...Hn(this,qn,"f").products,...i],r.length>0)try{const t=null!==(e=await Hn(this,Wn,"f").specific_products({ids:r}))&&void 0!==e?e:[];for(const e of i){const r=t.find((t=>(null==t?void 0:t.id)===e.product_id));e.op=r?U.ready(r):U.error("error retrieving product")}}catch(t){console.error("a cart product could not be loaded,",t),this.clear()}};var Ln,Bn=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)},Fn=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r};class Vn{constructor(){Ln.set(this,0)}pull(){var t,e;return Fn(this,Ln,(e=Bn(this,Ln,"f"),t=e++,e),"f"),t}}Ln=new WeakMap;var Jn,Kn=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class Zn{constructor(){Jn.set(this,new Vn),this.on={open:Jt()}}open(t){this.on.open.publish({modal:t,id:Kn(this,Jn,"f").pull().toString()})}}Jn=new WeakMap;var Gn,Yn,Xn=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},Qn=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class to extends Ni{constructor(t,e,r,i){super(),this.shopify=t,this.router=e,this.theme=r,Gn.set(this,void 0),this.modal=new Zn,this.set_route=t=>Qn(this,Gn,"f").route=t,this.set_tags=t=>Qn(this,Gn,"f").tags=t,this.set_collections=t=>Qn(this,Gn,"f").collections=t,this.set_situation_op=t=>Qn(this,Gn,"f").situation_op=t,this.toggle_cart_open=(t=!Qn(this,Gn,"f").cart_open)=>{Qn(this,Gn,"f").cart_open=t},Xn(this,Gn,function(t){return Ot.state({route:t.route,tags:[],collections:[],situation_op:U.loading(),cart_open:!1})}(e),"f"),this.state=O.readonly(Qn(this,Gn,"f")),this.cart=new Dn(this.shopify,i)}}function*eo(t){function e(t,r){let i=[];const n=t[0];if(n.startsWith("@")){const r=t[0],n=t[1];i.push(`${ro(r)}`);for(const t of n)i=[...i,...e(t,void 0)];i.push("}")}else{const o=t[1],s=t[2],a=r?`${r} ${n}`.replaceAll(/(\s+)*(\^|&)/gm,""):n,c=Object.entries(o);if(c.length>0){const t=c.map((([t,e])=>`\t${t}: ${ro(e)};`)).join("\n");i.push(`${ro(a)} {\n${t}\n}`)}for(const t of s)i=[...i,...e(t,a)]}return i}yield"\n";for(const r of t)yield"\n"+e(r,void 0).join("\n");yield"\n"}function ro(t){return t.replaceAll(/(\s*)(\/\/.*)$/gm,"")}Gn=new WeakMap,function(t){var e;(e=t.Type||(t.Type={}))[e.AtRule=0]="AtRule",e[e.Open=1]="Open",e[e.Close=2]="Close",e[e.RuleName=3]="RuleName",e[e.RuleValue=4]="RuleValue",e[e.SlashSlashComment=5]="SlashSlashComment"}(Yn||(Yn={}));class io extends Error{constructor(){super(...arguments),this.name=this.constructor.name}}class no extends io{constructor(t){super(t>1?`missing ${t} closing braces "}"`:`missing ${t} closing brace "}"`)}}class oo extends io{constructor(t,e){super(`(${t.cursor.line}:${t.cursor.column}) ${e}`),this.trace=t}}class so extends oo{constructor(t){super(t,"expression is missing selector (or at-rule)")}}class ao extends oo{constructor(t){super(t,'unwanted closing brace "}"')}}class co extends oo{constructor(t,e){super(t,`invalid place for rule name "${e}"`)}}class lo extends oo{constructor(t,e){super(t,`invalid place for rule value "${e}"`)}}const uo=t=>({error:e=>new oo(t,e),missingSelectorOrAtRule:()=>new so(t),excessClosingBrace:()=>new ao(t),ruleNamePlacement:e=>new co(t,e),ruleValuePlacement:e=>new lo(t,e)});const ho=/(\s*)/my;function po(t,e,r){const i=(/\n/g.exec(t)??[]).length,n=e.line+i;let o=0;if(i>0){const[,e]=/\n(.*)$/.exec(t)??[];o=1+e.length}else o=e.column+(r-e.index);return{line:n,column:o,index:r}}function fo({index:t,cursor:e,leadingWhitespace:r}){return i=>{const n=po(r,e,e.index+r.length);return{cursor:n,length:i??t-n.index}}}function mo(t,e){return(r,i)=>{let n=i.index;const o=t=>n=t,s=function({source:t,index:e,setIndex:r}){ho.lastIndex=e;const i=ho.exec(t.code);i&&r(ho.lastIndex);const[,n=""]=i??[];return n}({source:r,index:n,setIndex:o}),a=function({source:t,regex:e,index:r,setIndex:i}){e.lastIndex=r;const n=e.exec(t.code);return n&&i(e.lastIndex),n}({source:r,regex:t,index:n,setIndex:o});return a?{newIndex:n,token:e(a,fo({index:n,cursor:i,leadingWhitespace:s}))}:void 0}}const wo={slashSlashComment:mo(/(\/\/.*)$/my,((t,e)=>{const[,r]=t,i=r.trim();return{type:Yn.Type.SlashSlashComment,trace:e(i.length),value:i}})),atRule:mo(/(@(?:[^;{]+[;]|[^{]+{))/my,((t,e)=>{const[,r]=t,i=r.trim();return{type:Yn.Type.AtRule,trace:e(i.length),directive:i}})),open:mo(/([^{};]*){/my,((t,e)=>{const[,r]=t,i=r.trim();return{type:Yn.Type.Open,trace:e(i.length),selector:i}})),close:mo(/}/my,((t,e)=>({type:Yn.Type.Close,trace:e(1)}))),ruleName:mo(/([\S]+):/my,((t,e)=>{const[,r]=t,i=r.trim();return{type:Yn.Type.RuleName,trace:e(i.length),name:i}})),ruleValue:mo(/([^;}]+)(;|(?=}))/my,((t,e)=>{const[,r]=t,i=r.trim();return{type:Yn.Type.RuleValue,trace:e(i.length),value:i}}))};function go(t){const e=function*(t){let e;const r=[];for(const i of t){const n=uo(i.trace);switch(i.type){case Yn.Type.Open:case Yn.Type.AtRule:e={selector:i.type===Yn.Type.AtRule?i.directive:i.selector.replaceAll(/\s+/gm," "),ruleName:void 0,rules:{},childFrames:[]},r.push(e);break;case Yn.Type.RuleName:if(!e)throw n.ruleNamePlacement(i.name);e.ruleName=i.name;break;case Yn.Type.RuleValue:if(!e||!e.ruleName)throw n.ruleValuePlacement(i.value);e.rules[e.ruleName]=i.value,e.ruleName=void 0;break;case Yn.Type.Close:{const o=r.pop(),s=r.length>0?r[r.length-1]:void 0;if(e=s,!o)throw n.excessClosingBrace();if(!o.selector)throw n.missingSelectorOrAtRule();if(s)s.childFrames.push(o);else{function a(t){return t.selector.startsWith("@")?[t.selector,t.childFrames.map(a)]:[t.selector,t.rules,t.childFrames.map(a)]}yield a(o)}}}}if(r.length>0)throw new no(r.length)}(function*(t){const e={code:t};let r=!1,i={index:0,line:1,column:1};for(;!r;){let t;for(const r of Object.values(wo)){let n=r(e,i);if(n){t=n.token,i=po(e.code.slice(i.index,n.newIndex),i,n.newIndex);break}}t?yield t:r=!0}}(t));return[...eo(e)].join("")}function vo(t,...e){const r=go(Array.from(t).reduce(((t,r,i)=>t+r+(e[i]??"")),""));return ae(r)}const yo={bubbles:!0,composed:!0,cancelable:!0};var bo,_o;class $o extends CustomEvent{constructor(t,e){super(t,{...yo,...e})}}bo=$o,$o.target=(_o=bo,{target:t=>({dispatch(e,r){t.dispatchEvent(new _o(_o.type,{...r,detail:e}))},listen:(e,r)=>(t.addEventListener(_o.type,e,r),()=>t.removeEventListener(_o.type,e,r))})}).target;var xo,ko,Eo,Co,Ao,To,Po,Mo,So=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)},jo=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r};class Wo{constructor(t,e=(()=>{})){xo.add(this),Eo.set(this,void 0),Co.set(this,new Map),Ao.set(this,void 0),To.set(this,new Set),Po.set(this,(()=>{})),jo(this,Eo,t,"f"),jo(this,Po,e,"f"),jo(this,Ao,new MutationObserver((()=>So(this,xo,"m",Mo).call(this))),"f"),So(this,Ao,"f").observe(t,ko.parentObservationOptions),So(this,xo,"m",Mo).call(this)}get(t){const e=t?`:scope > template[slot="${t}"]`:":scope > template:not([slot])",r=So(this,Eo,"f").querySelector(e);return r?.content.cloneNode(!0)}}ko=Wo,Eo=new WeakMap,Co=new WeakMap,Ao=new WeakMap,To=new WeakMap,Po=new WeakMap,xo=new WeakSet,Mo=function t(){for(const t of So(this,To,"f"))t.disconnect();So(this,Co,"f").clear(),So(this,To,"f").clear();const e=Array.from(So(this,Eo,"f").querySelectorAll(":scope > template"));for(const r of e){const e=r.getAttribute("slot")??void 0;So(this,Co,"f").set(e,r);const i=new MutationObserver(So(this,Po,"f")),n=new MutationObserver((()=>{So(this,xo,"m",t).call(this),So(this,Po,"f").call(this)}));i.observe(r.content,ko.templateDeepObserverationOptions),n.observe(r,ko.templateAttributeObserverationOptions),So(this,To,"f").add(i)}},Wo.parentObservationOptions={childList:!0},Wo.templateDeepObserverationOptions={childList:!0,attributes:!0,characterData:!0,subtree:!0},Wo.templateAttributeObserverationOptions={attributes:!0};const zo=vo`

:host {
	display: flex;
	gap: 1em;
}

a {
	color: inherit;
	text-decoration: none;

	&[data-marked] {
		text-decoration: underline;
	}
}

`,qo=pn.shadow_component({styles:zo},(t=>{const{route:e}=t.context.state,{routes:r}=t.context.router;const i={collections:{url:r.collections().url,marked:"collections"===e.zone||"home"===e.zone&&"collections"===e.area},products:{url:r.products().url,marked:"products"===e.zone||"home"===e.zone&&"products"===e.area}};return Ui`
		<a
			href="${i.collections.url}"
			?data-marked="${i.collections.marked}">
			<slot name=collections>
				collections
			</slot>
		</a>

		<a
			href="${i.products.url}"
			?data-marked="${i.products.marked}">
			<slot name=products>
				all products
			</slot>
		</a>
	`})),Oo=vo`

:host {
	display: flex;
	flex-direction: column;
	--slash-color: var(--sheep-slash-color, #f008);
}

.sale {
	width: max-content;
	align-self: end;
	padding: 0.2em 0.4em;
	border-radius: 1em;
	background: #0808;
	text-transform: uppercase;
}

.coolstack {
	display: flex;
	flex-direction: row-reverse;
	flex-wrap: wrap;
	align-items: center;
	gap: 0.5em;
	flex: flex-wrap;
}

.pricetag {
	display: flex;
	align-items: center;
	gap: 0.1em;

	.symbol {
		font-size: 2em;
		align-self: center;
	}

	.big {
		font-size: 2.4em;
	}

	.stack {
		display: inline-flex;
		flex-direction: column;
		line-height: 1em;

		> .currency {
			opacity: 0.5;
			font-size: 0.75em;
		}
	}

	&.comparison {
		font-size: 0.7em;
		position: relative;
		width: max-content;

		& > * {
			opacity: 0.4;
		}

		& [part="slash"] {
			color: var(--slash-color);
			position: absolute;
			inset: 0;
			width: 100%;
			height: 100%;
			background: linear-gradient(to top left,
				transparent 0%,
				transparent calc(50% - 2px),
				currentColor calc(50% - 2px),
				currentColor calc(50% + 2px),
				transparent calc(50% + 2px),
				transparent 100%);
			pointer-events: none;
		}
	}
}

`;function No(t){const{amount:e,currencyCode:r}=t,i=parseFloat(e),n=function(t){switch(t.toUpperCase()){case"USD":case"CAD":case"AUD":case"NZD":case"HKD":case"SGD":return"$";case"EUR":return"";case"GBP":return"";case"JPY":case"CNY":return"";case"INR":return"";case"BRL":return"R$";case"ZAR":return"R";case"RUB":return"";case"KRW":return"";case"TRY":return"";default:return}}(r),[o,s]=i.toFixed(2).split(".").map((t=>parseInt(t).toLocaleString()));return{number:i,symbol:n,currency:r,big:o,small:(null!=s?s:"0").padStart(2,"0")}}function Uo({symbol:t,currency:e,big:r,small:i}){return Ui`
		${t?Ui`<span class=symbol>${t}</span>`:void 0}
		<span class=big>${r}</span>
		<span class=stack>
			${i?Ui`<span class=small>${i}</span>`:void 0}
			<span class=currency>${e}</span>
		</span>
	`}const Ro=pn.shadow_view({styles:Oo,name:"price"},(t=>t=>{const{value:e,comparison:r}=function({price:t,compareAtPrice:e}){return{value:No(t),comparison:e?No(e):void 0}}(t);return Ui`
		${r?function(t,e){const r=(e.number-t.number)/e.number,i=Math.round(100*r);return Ui`
		<span class=sale part=sale data-gpart=sale>
			${i}% off
		</span>
	`}(e,r):void 0}

		<div class=coolstack>
			<div class="pricetag" ?data-sale=${!!r}>
				${Uo(e)}
			</div>

			${r?Ui`
					<div class="pricetag comparison">
						${Uo(r)}
						<div part=slash></div>
					</div>
				`:void 0}
		</div>
	`})),Io=vo`

:host {
	display: flex;
	flex-direction: column;
	gap: 1em;
}

:host([hidden]) {
	display: none;
}

h2 {
	opacity: 0.4;
	text-transform: uppercase;
	text-align: center;
}

.listing {
	list-style: none;
	display: grid;
	grid-template-columns: auto auto 2fr auto;
	grid-auto-rows: auto;
	gap: 1em;
	align-items: center;

	> li {
		display: contents;

		> .thumb {
			grid-column: 1;
			> img {
				display: block;
				width: 3em;
				height: 5em;
				object-fit: cover;
				padding: 0.3rem;
				background: #fff4;
			}
		}

		> .quantity {
			grid-column: 2;
			> input {
				font-size: 1.5em;
				width: 3em;
				background: transparent;
				color: currentColor;
				border: 1px solid currentColor;
				border-radius: 0.5em;
				padding: 0.2em 0.5em;
			}
		}

		> .title {
			grid-column: 3;
		}

		> .price {
			grid-column: 4;
			justify-self: end;
		}

		> .remove {
			grid-column: 5;
			& button {
				display: flex;
				border: none;
				background: transparent;
				opacity: 0.4;
				cursor: pointer;
				color: currentColor;
				&:is(:hover, :focus) { opacity: 0.8; }
				&:active { opacity: 1; }
				& svg {
					width: 1.5rem;
					height: 1.5rem;
				}
			}
		}
	}
}

.subtotal {
	display: flex;
	justify-content: end;
	padding-right: 2.5rem;

	& .group {
		display: flex;
		flex-direction: column;
		width: max-content;
	}

	& hr {
		opacity: 0.3;
		display: block;
		border: none;
		width: 100%;
		height: 0.1em;
		margin: 1em auto;
		background: currentColor;
	}

	& .block {
		display: flex;
	}

	& .heading {
		opacity: 0.4;
		display: flex;
		align-items: end;
		padding-bottom: 0.5em;
		padding-right: 3em;
		text-transform: uppercase;
		font-weight: bold;
	}
}

.terms, .terms-checkbox {
	display: block;
	padding-right: 2.5rem;

	&:is(.terms) {
		margin-top: 2rem;
	}

	&:is(.terms-checkbox) {
		margin-top: 2rem;
		margin-left: auto;
		text-align: right;
	}
}

.terms-checkbox {
	& label {
		display: flex;
		align-items: center;
		gap: 0.5em;
	}
	& input {
		width: 1.5em;
		height: 1.5em;
	}
}

.actions {
	display: flex;
	flex-direction: row-reverse;
	gap: 1em;
	padding-top: 1em;
	padding-right: 2.5rem;
	align-items: center;
}

[part="checkout"]{
	font-size: 1.5em;

	&::part(button) {
		padding: 0.5em 1em;
	}
}

[part="clear-cart"] {
	font-size: 1em;

	&::part(button) {
		padding: 0.5em 1em;
		background: transparent;
	}
}

:host {
	container: layout / inline-size;
}

@container (width < 40em) {
	.listing {
		display: flex;
		grid: none;
		flex-direction: column;
		align-items: stretch;
		gap: 1em;

		> li {
			display: grid;
			grid:
				"thumb  title quantity"
				"remove price price   "
				/ auto  minmax(1em, 1fr)   auto;

			background: #fff4;
			padding: 0.5rem;
			box-shadow: 0.2em 0.3em 0.2em #0001;

			> .thumb { grid-area: thumb; }
			> .title { grid-area: title; }
			> .quantity { grid-area: quantity; }
			> .price { grid-area: price; }
			> .remove { grid-area: remove; }

			> .title { padding: 0 0.5rem; }

			> .remove {
				justify-self: center;
				align-self: end;
				> button > svg {
					width: 3rem;
					height: 3rem;
				}
			}

			& input {
				font-size: 1em !important;
			}

			& [view="price"] {
				font-size: 0.8em;
			}
		}
	}

	.subtotal {
		padding: 0;
		& hr { display: none; }
		& .block {
			justify-content: end;
			flex-wrap: wrap;
			gap: 0.5rem;
			padding: 0;
		}
		& .heading { }
	}

	.actions {
		padding-right: 0;
	}

	.terms, .terms-checkbox {
		padding: 0;
	}

	[part="checkout"], [part="clear-cart"] {
		font-size: 1em;
	}
}

@container (width < 20em) {
	.listing > li {
		position: relative;
		grid:
			"thumb  title"
			"remove quantity"
			"price  price"
			/ auto  minmax(1em, 1fr);
	}
	:is(.quantity, .remove) {
		align-self: center;
	}
	.quantity {
		margin-left: auto;
	}

	.actions {
		flex-direction: column;
	}
}

`;function Ho([t,...e]){var r;const i=t.variant.price.currencyCode,n=Do(t),o={price:n.price,comparison:null!==(r=n.comparison)&&void 0!==r?r:n.price};for(const t of e){const{price:e,comparison:r}=Do(t);o.price+=e,o.comparison+=null!=r?r:e}return{price:{currencyCode:i,amount:o.price.toString()},compareAtPrice:o.price!==o.comparison?{currencyCode:i,amount:o.comparison.toString()}:void 0}}function Do({variant:t,quantity:e}){return{price:parseFloat(t.price.amount)*e,comparison:t.compareAtPrice&&parseFloat(t.compareAtPrice.amount)*e}}const Lo=vo`

:host {
	display: block;
	height: max-content;
	width: max-content;
}

button {
	display: inline-flex;
	justify-content: center;
	align-items: center;
	width: 100%;

	cursor: pointer;
	user-select: none;
	padding: 0.2em 0.5em;
	font: inherit;
	font-weight: bold;
	border: none;
	border: 0.2em solid #fff8;
	border-radius: 0.5em;
	text-transform: uppercase;

	opacity: 0.7;
	color: white;
	background: #0b0;
	text-shadow: 0.1em 0.1em 0.1em #0004;

	&:is(:hover, :focus) {
		opacity: 0.9;
	}

	&:active {
		opacity: 1;
	}

	&[disabled] {
		opacity: 0.2;
		background: #888;
		color: white;
		cursor: default;
	}
}

`,Bo=pn.shadow_view({name:"coolbutton",styles:Lo},(t=>({active:t,text:e,onclick:r})=>Ui`

	<button
		part=button
		@click=${r}
		?disabled=${!t}>
		<slot part=slot></slot>
		${e}
	</button>

`)),Fo={src:"https://i.imgur.com/h1v2noQ.webp",alt:""};function Vo(t){return e=>e?{src:t(e),alt:e.altText}:Fo}const Jo={tiny:Vo((t=>t.url_tiny)),small:Vo((t=>t.url_small)),medium:Vo((t=>t.url_medium)),large:Vo((t=>t.url_large)),original:Vo((t=>t.url_original))};function Ko({img:t,part:e="",onclick:r=(()=>{})}){return Ui`
		<img
			alt="${t.alt}"
			src="${t.src}"
			part="${e}"
			@click=${e=>r(e,t)}
			/>
	`}class Zo{constructor(t){this.product=t}get images(){return this.product.images.edges.map((t=>t.node))}get variants(){return this.product.variants.edges.map((t=>t.node))}get first_variant(){return this.variants[0]}get featured_image(){const{product:t}=this;let e;return t.featuredImage&&t.images.edges.length&&(e=t.images.edges.map((t=>t.node)).find((e=>{var r;return e.id===(null===(r=t.featuredImage)||void 0===r?void 0:r.id)}))),e}get_variant(t){return this.variants.find((e=>e.id===t))}get_variant_image(t){const e=this.get_variant(t);if(e&&e.image)return this.images.find((t=>t.id===e.image.id))}cross_reference_collections(t){const e=[],r=this.product.collections.edges.map((t=>t.node));for(const i of r){const r=t.find((t=>t.id===i.id));r&&e.push(r)}return e}}function Go(t,...e){return r=>r(t,...e)}var Yo=Go`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>`;const Xo=pn.shadow_component({styles:Io},(t=>{const{cart:e,shopify:r}=t.context,{units:i}=t.context.cart,n=t.flatstate({termsChecked:!1}),o=t.attrs({"require-checkout-terms":Boolean});return Ui`
		<h2>
			${i.length>0?"Your Cart":"Cart is Empty"}
		</h2>

		<ol class=listing>
			${i.map((t=>Ui`
				<li part=line-item data-gpart=line-item>
					${function(t){const r=new Zo(t.product),i=r.get_variant_image(t.variant_id),n=r.get_variant(t.variant_id);if(!n)throw new Error("unknown variant");const o=n.price.currencyCode,s={price:{currencyCode:o,amount:(parseFloat(n.price.amount)*t.quantity).toString()},compareAtPrice:n.compareAtPrice?{currencyCode:o,amount:(parseFloat(n.compareAtPrice.amount)*t.quantity).toString()}:void 0};return Ui`
			<div class=thumb>
				${Ko({img:Jo.tiny(i),part:"img"})}
			</div>

			<div class=quantity>
				<input
					type=number
					min=1
					.value="${t.quantity}"
					@change="${r=>{const i=r.target,n=parseInt(i.value);isNaN(n)||e.set_quantity(t.variant_id,n)}}"/>
			</div>

			<div class=title>
				<h3>${t.product.title}</h3>
				${r.variants.length>1?Ui`<p>${n.title}</p>`:void 0}
			</div>

			<div class=price>
				${Ro([s],{attrs:{part:"price"}})}
			</div>

			<div class=remove>
				<button
					title="remove from cart"
					@click="${()=>{e.remove(t.variant_id)}}">
					${Yo(Je)}
				</button>
			</div>
		`}(t)}
				</li>
			`))}
		</ol>

		${i.length>0?Ui`
				<div class=subtotal>
					<div class=group>
						<hr/>
						<div class=block>
							<div class=heading>
								Subtotal
							</div>
							<div class=price>
								${Ro([Ho(i)],{attrs:{part:"price"}})}
							</div>
						</div>
					</div>
				</div>
				<slot class=terms name=terms></slot>
				${o["require-checkout-terms"]?Ui`
					<div class=terms-checkbox>
						<label>
							<input type="checkbox" @input=${t=>{const e=t.currentTarget;n.termsChecked=e.checked}} />
							<slot name=terms-checkbox-label>
								I accept the terms above <em>(required for checkout)</em>
							</slot>
						</label>
					</div>
				`:void 0}
				<div class=actions>
					${Bo([{active:!o["require-checkout-terms"]||n.termsChecked,text:"Checkout",onclick:async function(){const t=e.units.map((({variant_id:t,quantity:e})=>({variant_id:t,quantity:e}))),i=window.open("","_blank");if(!i)throw new Error("error opening window");i.document.body.innerHTML="\n\t\t\t<h1>\n\t\t\t\tloading checkout...\n\t\t\t</h1>\n\t\t\t<style>\n\t\t\t\thtml, body {\n\t\t\t\t\tbackground: #888;\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tpadding: 10%;\n\t\t\t\t}\n\t\t\t\th1 {\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\t\t\t</style>\n\t\t";const{webUrl:n}=await r.checkout({line_items:t});i.location.href=n,i.focus(),e.clear()}}],{attrs:{part:"checkout"}})}
					${Bo([{active:!0,text:"clear cart",onclick:()=>e.clear()}],{attrs:{part:"clear-cart"}})}
				</div>
			`:void 0}
	`}));var Qo=Go`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>`;const ts=vo`

dialog {
	margin: auto;
	margin-top: 2em;
	background: transparent;
	border: none;

	&::backdrop {
		background: #222222f8;
	}
}

.actions, sheep-cart {
	width: 86em;
	max-width: 100%;
	margin: 0.2em auto;
}

sheep-cart {
	padding: 1em;
}

.actions {
	display: flex;
	justify-content: end;
	align-items: center;

	pointer-events: none;

	> * {
		pointer-events: all;
	}
}

.close {
	font: inherit;
	background: transparent;
	color: #fffc;
	border: none;

	opacity: 0.7;
	cursor: pointer;

	&:focus { opacity: 0.8; }
	&:hover { opacity: 0.9; }
	&:active { opacity: 1; }

	> svg {
		width: 2em;
		height: 2em;
	}
}

.contents {
	padding: 1em;
	color: #fff;
	box-shadow: 1px 2px 5px #0008;

	> [part="img"] {
		position: fixed;
		max-width: 90vw;
		max-height: 90vh;
		inset: 0;
		margin: auto;

		cursor: pointer;
		user-select: none;
		border-radius: var(--sheep-border-radius, 0.2em);
	}
}

`,es=pn.shadow_component({styles:ts},(t=>{const e=t.attrs({"cart-require-checkout-terms":Boolean});t.setup((()=>t.context.modal.on.open((n=>function({id:n,modal:o}){const s=document.createElement("dialog");s.setAttribute("data-id",n);const{content:a,on_backdrop_click:c}=function(t,n){switch(n.kind){case"image":{const{img:{src:e,alt:r}}=n,o=()=>i(t);return{on_backdrop_click:o,content:Ui`
						<img
							part=img
							src="${e}"
							alt="${r}"
							@click=${o} />
					`}}case"cart":return{on_backdrop_click:()=>i(t),content:Ui`
						<sheep-cart
							part=cart
							require-checkout-terms=${e["cart-require-checkout-terms"]}
							>
							<slot name=cart-terms slot=terms></slot>
							${r.cart_terms_checkbox_label?Ui`
								<slot name=cart-terms-checkbox-label slot=terms-checkbox-label></slot>
							`:void 0}
						</sheep-cart>
					`}}}(n,o);s.onclick=t=>{t.target===s&&c()},dr(function(t,e){return Ui`
			<div class=actions>
				<button class=close @click=${()=>i(t)}>
					${Qo(Je)}
				</button>
			</div>
			<div class=contents>
				${e}
			</div>
		`}(n,a),s),t.shadow.appendChild(s),s.showModal()}(n)))));const r={cart_terms_checkbox_label:t.element.querySelector('[slot="cart-terms-checkbox-label"]')};function i(e){const r=t.shadow.querySelector(`[data-id="${e}"]`);r&&(r.close(),r.remove())}return Ui``}));var rs=Go`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>`;const is=vo`

:host {
	display: flex;
	flex-direction: column;
	gap: 0.5em;
	--highlight: var(--sheep-highlight, lime);
}

.searchbox {
	position: relative;

	> input {
		display: block;
		font-size: 1.5em;
		width: 100%;
		min-width: 4em;
		max-width: 20em;
		background: transparent;
		border: 0.1em solid;
		border-radius: 0.5em;
		padding: 0.3em;
		padding-left: 2em;
		color: inherit;
		transition: transform 0.3s ease-in-out;

		&:focus {
			transform: scale(1.03);
		}
	}

	> svg {
		position: absolute;
		left: 0.5em;
		top: 0;
		bottom: 0;
		margin: auto;
		transition: all 0.3s ease-in-out;
	}

	&[data-active] {
		color: var(--highlight);
		+ svg {
			color: inherit;
		}
	}
}


.searchtags {
	display: flex;
	flex-wrap: wrap;
	gap: 0.1em;
	min-width: 0;

	> label {
		display: flex;
		align-items: center;
		border: 1px solid;
		border-radius: 1em;
		padding: 0 0.3em;
		min-width: 0;
		gap: 0.5em;

		& input {
			display: none;
			opacity: 0.5;
		}

		&[data-active] {
			color: var(--highlight);
			& input { opacity: 1; }
		}

		> span {
			font-size: 0.8em;
			user-select: none;
		}
	}
}

`;function ns(t){return Ui`
		${function({state:t}){const{route:e,tags:r}=t,i=e&&"search"===e.zone?e.tags:[],n=t=>i.includes(t);return r.map((t=>({tag:t,active:n(t)})))}(t).map((({tag:e,active:r})=>Ui`
			<label part="${function(t){return t?"tag x-active":"tag"}(r)}" data-tag="${e}" ?data-active="${r}">
				<input
					type="checkbox"
					.checked="${r}"
					@input="${function(t,e){return r=>{const i=r.target,n=e.search_terms,o=new Set(e.search_tags);i.checked?o.add(t):o.delete(t),0===o.size&&0===n.length?e.routes.home().go():e.routes.search(n,[...o]).go()}}(e,t.router)}"
					/>
				<span>${e}</span>
			</label>
		`))}
	`}const os=pn.shadow_component({styles:is},(t=>{const{router:e}=t.context,r="search"===e.route.zone&&e.route.terms.length;function i(){return t.shadow.querySelector("input")}t.setup((()=>(async function(t,e,r){await t,"search"===e.route.zone&&(r().value=e.route.terms.join(" "))}(t.element.updateComplete.then((()=>{})),t.context.router,i),t.context.router.on_route_change((e=>function(t,e,r){const i="search"===t.zone;!e&&(r.value=i?t.terms.join(" "):"")}(e,document.activeElement===t.element||t.element.contains(document.activeElement),i()))))));const n=_(250,(()=>{const{router:e}=t.context,r=function(t,e){const r=e.split(/\s+/).filter((t=>t.length)),i=t.search_tags;return{terms:r,there_is_nothing_to_search_for:0===r.length&&0===i.length}}(e,i().value);r.there_is_nothing_to_search_for?e.routes.home().go():e.routes.search(r.terms,e.search_tags).go()}));return Ui`
		<div ?data-active=${r} class=searchbox>
			<input part=input type=text @input="${n}"/>
			${rs(Je)}
		</div>
		<div class=searchtags>
			${ns(t.context)}
		</div>
	`}));var ss=Go`<svg xmlns="http://www.w3.org/2000/svg" width = "24" height = "24" viewBox = "0 0 24 24" fill = "none" stroke = "currentColor" stroke - width="2" stroke - linecap="round" stroke - linejoin="round" class="feather feather-loader" > <line x1="12" y1 = "2" x2 = "12" y2 = "6" > </line><line x1="12" y1="18" x2="12" y2="22"></line > <line x1="4.93" y1 = "4.93" x2 = "7.76" y2 = "7.76" > </line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line > <line x1="2" y1 = "12" x2 = "6" y2 = "12" > </line><line x1="18" y1="12" x2="22" y2="12"></line > <line x1="4.93" y1 = "19.07" x2 = "7.76" y2 = "16.24" > </line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line > </svg>`,as=Go`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>`;const cs=function({loading:t,error:e}){return function(r,i){return U.select(r,{loading:t,error:e,ready:i})}}({loading:()=>Ui`
		<span class="op loading">
			${ss(Je)}
		</span>
	`,error:t=>Ui`
		<span class="op error">
			${as(Je)}
			${t}
		</span>
	`}),ls=vo`

:host {
	display: block;
}

[part="collection-tab-list"] {
	display: flex;
	margin-bottom: 1em;
	flex-wrap: wrap;
	justify-content: center;

	> [part="collection-tab"] {
		color: inherit;
		text-shadow: none;
		padding: 0.2em 0.5em;
		border-radius: 0.5em;
		font-size: 1.1em;
		text-decoration: none;
		transition: all 0.3s ease-in-out;
		font-weight: bold;
		-webkit-user-drag: none;
		user-drag: none;
		user-select: none;
		overflow: hidden;

		position: relative;

		> .bgimg {
			opacity: 0;
			z-index: 1;
			position: absolute;
			inset: 0;
			background-size: cover;
			background-position: top center;
			transition: all 1s ease;
		}

		> .text {
			z-index: 2;
			position: relative;
		}

		&[data-active-collection] {
			color: white;
			text-shadow: 0.05em 0.1em 0.1em #0008;
			box-shadow: 0.1em 0.2em 0.3em #0002;
			& > .bgimg {
				opacity: 0.5;
				background-position: center center;
			}
		}
	}
}

`,ds=vo`

:host {
	display: block;
	container-type: inline-size;
}

.collection_header {
	margin-bottom: 1em;
	text-align: center;
	text-transform: capitalize;
	font-size: 1.2rem;
}

.grid {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(16em, 1fr));
	width: 100%;
	gap: 0.5rem;
}

@container (width < 16em) {
	.grid {
		display: flex;
		flex-direction: column;
	}
}

[view="product-card"] {
	font-size: 0.8em;
	max-width: 100%;
}

footer {
	display: flex;
	padding: 1em;
	justify-content: center;
	align-items: center;

	> button {
		opacity: 0.7;
		font: inherit;
		text-transform: uppercase;
		font-size: 1em;
		padding: 1em 2em;
		background: #fffa;
		color: #000a;
		border: none;
		cursor: pointer;
		user-select: none;
		border-radius: 3em;
		&:is(:hover, :focus) { opacity: 0.8; }
		&:active { opacity: 1; }
	}
}

`,us=vo`

:host > a {
	display: flex;
	width: 100%;
	height: 100%;
	gap: 0.5em;
	text-decoration: none;
	color: inherit;

	> img {
		flex: 1;
		max-width: 4rem;
		object-fit: cover;
		user-select: none;
	}

	> [part="plate"] {
		display: flex;
		flex-direction: column;
		flex: 1 1 auto;
		gap: 0.5em;

		> h1 {
			font-size: 1.2em;
		}

		> .action {
			display: flex;
			margin-top: auto;
			gap: 0.5em;
			align-items: end;
			flex-wrap: wrap-reverse;

			> .button {
				flex: 1 1 6em;
				width: 100%;
				max-width: 10em;

				&::part(button) {
					min-height: 3em;
				}

				&::part(slot) {
					display: flex;
					flex-direction: column;
					justify-content: center;
				}

				small {
					font-weight: normal;
				}
			}

			> .pricebox {
				margin-left: auto;
			}
		}
	}
}

`,hs=vo`

ol {
	display: flex;
	flex-wrap: wrap;
	list-style: none;
	gap: 0.1em;
}

li {
	border: 1px solid currentColor;
	padding: 0 0.3em;

	&[part="collection"] {
		border-radius: 0.3em;
	}

	&[part="tag"] {
		opacity: 0.7;
		border-radius: 1em;
	}
}

`,ps=pn.shadow_view({name:"pills",styles:hs},(t=>e=>{const r=new Zo(e).cross_reference_collections(t.context.state.collections);return Ui`
		<ol part=list>

			${r.map((t=>Ui`
				<li part=collection>${t.title}</li>
			`))}

			${e.tags.map((t=>Ui`
				<li part=tag>${t}</li>
			`))}
		</ol>
	`}));function fs({cart:t,product:e,variant_id:r,allow_select:i,Coolbutton:n}){const o=e.variants.edges.length,s=e.variants.edges.map((t=>t.node)).find((t=>t.id===r)),a=t.units.find((t=>t.variant_id===r)),c=i&&o>1?"select_from_variants":a?"in_cart":s.availableForSale?"add_to_cart":"sold_out";switch(c){case"select_from_variants":return n([{active:!0,onclick:()=>{}}],{attrs:{part:"addbutton x-select-from-variants",gpart:"addbutton x-select-from-variants"},content:Ui`
					${o} Options
				`});case"in_cart":return n([{active:!1,onclick:()=>{}}],{attrs:{part:"addbutton x-in-cart",gpart:"addbutton x-in-cart"},content:Ui`
					in cart
				`});case"add_to_cart":return n([{active:!0,onclick:i=>{i.preventDefault(),t.add(r,e)}}],{attrs:{part:"addbutton x-add-to-cart",gpart:"addbutton x-add-to-cart"},content:Ui`
					Add to Cart
				`});case"sold_out":return n([{active:!1,onclick:()=>{}}],{attrs:{part:"addbutton x-sold-out",gpart:"addbutton x-sold-out"},content:Ui`
					Sold Out
				`});default:throw new Error(`unknown button type "${c}"`)}}const ms=pn.shadow_view({styles:us,name:"product-card"},(t=>e=>Ui`

	<a href="${t.context.router.routes.product(e).url}">

		${Ko({part:"img",img:Jo.tiny(new Zo(e).featured_image)})}

		<div part=plate>
			<h1 part="title a" data-gpart="a">
				${e.title}
			</h1>

			${ps([e],{attrs:{part:"pills",gpart:"pills"}})}

			<div class=action>
				${fs({product:e,cart:t.context.cart,allow_select:!0,Coolbutton:Bo,variant_id:new Zo(e).first_variant.id})}

				<div class=pricebox>
					${function({product:t,single_price:e,multiple_prices:r}){const i=t.variants.edges.length>1,n=t.variants.edges.every((e=>e.node.price.amount===t.variants.edges[0].node.price.amount));function o(t){return parseFloat(t.amount)}const s=t.variants.edges.map((t=>t.node));let a=s[0];for(const t of s)o(t.price)<o(a.price)&&(a=t);return i&&!n?r(a):e(a)}({product:e,single_price:t=>Ui`
							${Ro([t],{attrs:{part:"price singleprice"}})}
						`,multiple_prices:t=>Ui`
							<div class=info>starts at</div>
							${Ro([t],{attrs:{part:"price multiprice"}})}
						`})}
				</div>

			</div>
		</div>
	</a>
`)),ws=pn.shadow_view({styles:ds,name:"product-list"},(t=>({situation:{products:t,load_more_op:e,load_more:r}})=>t.length>0?Ui`
				<div class=grid>
					${t.map((t=>ms([t],{attrs:{part:"card",gpart:"card"}})))}
				</div>

				<footer>
					${cs(e,(()=>r?Ui`<button @click=${r}>load more</button>`:void 0))}
				</footer>
			`:Ui`
				<p>No products found</p>
			`));class gs extends fi{constructor(t){if(super(t),this.et=Ze,t.type!==hi)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===Ze||null==t)return this.vt=void 0,this.et=t;if(t===Ke)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.et)return this.vt;this.et=t;const e=[t];return e.raw=e,this.vt={_$litType$:this.constructor.resultType,strings:e,values:[]}}}gs.directiveName="unsafeHTML",gs.resultType=1;const vs=pi(gs),ys=vo`

:host {
	display: block;
	container-type: inline-size;
	--border-radius: var(--sheep-border-radius, 0.2em);
	--frame-padding: var(--sheep-frame-padding, 1em);
	--frame-background: var(--sheep-frame-background, #fff2);
}

[part="grid"] {
	display: grid;
	gap: 1em;
	grid:
		"feature feature feature .       .       .      " 1fr
		"feature feature feature heading heading heading"
		"feature feature feature pills   pills   pills  "
		"feature feature feature options options options"
		"feature feature feature buy     buy     buy    "
		"feature feature feature .       .       .      " 1fr
		"essay   essay   essay   essay   essay   essay  "
		"images  images  images  images  images  images ";
	grid-template-columns: repeat(auto-fit, minmax(1em, 1fr));
	align-items: start;
}

@container (width < 30em) {
	[part="grid"] {
		grid:
			"feature"
			"heading"
			"pills"
			"options"
			"buy"
			"essay"
			"images"
			/ 1fr;
		grid-template-columns: repeat(auto-fit, minmax(1em, 1fr));
	}
}

@container (width < 30em) {
	[part="aside"] > img {
		width: 50cqi;
		height: 50cqi;
	}
}

[part="grid"] {
	> figure { grid-area: feature; }
	> h1 { grid-area: heading; }
	> .pills { grid-area: pills; }
	> .options { grid-area: options; }
	> .buy { grid-area: buy; }
	> aside { grid-area: images; }
	> section {
		grid-area: essay;
		max-width: 48em;
		justify-self: center;
		line-height: 1.5;
	}

	> figure {
		padding: var(--frame-padding);
		background: var(--frame-background);
		width: 100%;
		height: 100%;
		align-self: center;
		justify-self: end;

		> img {
			display: block;
			width: 100%;
			height: 100%;
			object-fit: cover;
			user-select: none;
			border-radius: var(--border-radius);
		}
	}

	> h1 {
		font-size: 2em;
	}

	> .pills {
		font-size: 0.8em;
	}

	> .options {
		font-size: 1.2em;
		justify-self: end;

		display: flex;
		flex-direction: column;
		align-items: end;
		gap: 1em;
		padding: 1em;

		& select {
			padding: 0.5em;
			margin-left: 1em;
		}
	}

	.buy {
		display: flex;
		justify-content: end;
		font-size: 1em;
		gap: 1rem;

		> .price {
			flex: 1;
			display: flex;
			justify-content: center;
		}

		> [view="coolbutton"] {
			flex: 2;
			&::part(button) {
				padding: 1em;
			}
		}
	}

	> aside {
		display: flex;
		flex-wrap: wrap;
		container-type: inline-size;
		padding: var(--frame-padding);
		background: var(--frame-background);
		justify-content: center;

		> img {
			display: block;
			width: 25cqi;
			height: 25cqi;
			aspect-ratio: 1 / 1;
			object-fit: cover;
			user-select: none;
			border-radius: var(--border-radius);
		}
	}

	&[data-no-additional-images] {
		> aside {
			display: none;
		}
		> section {
			grid-area: images / images / essay / essay;
		}
	}

	&[data-no-options] {
		> .options {
			display: none;
		}
		> .pills {
			grid-row: span 2;
		}
	}
}

[part="recbox"] {
	margin-top: 4em;

	> h2 {
		text-align: center;
		margin-bottom: 1em;
	}

	> [view="product-recommendation"] {
		justify-content: center;
	}
}

`;class bs{constructor(t,e){this.productHelper=t,this.choices=e}get_choice(t){var e;const{productHelper:r,choices:i}=this,n=r.first_variant.selectedOptions,o=null!==(e=i.find((e=>e.name===t)))&&void 0!==e?e:n.find((e=>e.name===t));if(!o)throw new Error(`choice not found (${t})`);return o.value}get selected_variant(){var t;const{productHelper:e}=this;return null!==(t=e.variants.find((t=>t.selectedOptions.every((({name:t,value:e})=>e===this.get_choice(t))))))&&void 0!==t?t:e.first_variant}get chosen_image(){const{productHelper:t}=this,e=this.selected_variant;let r;return e.image&&(r=t.images.find((t=>t.id===e.image.id))),r||(r=t.featured_image),r}get side_images(){const t=this.chosen_image;return this.productHelper.images.filter((e=>e.id!==(null==t?void 0:t.id)))}}function _s(t,e){const{productHelper:{product:r}}=t;return r.options.map((({name:r,values:i})=>Ui`
		<label>
			<span>${r}</span>
			<select @input=${function(t){return r=>{const i=r.target;e(t,i.value)}}(r)}>
				${i.map((e=>Ui`
					<option ?selected=${function(e,r){return r===t.get_choice(e)}(r,e)}>
						${e}
					</option>
				`))}
			</select>
		</label>
	`))}const $s=vo`

:host {
	display: flex;
	flex-wrap: wrap;
	gap: 1em;
}

[view="product-card"] {
	flex: 30%;
	min-width: 18em;
	max-width: 30em;
}

`,xs=pn.shadow_view({styles:$s,name:"product-recommendation"},(t=>(e,r)=>{const i=t.flatstate({recommendations:[]});return t.setup((()=>(async function(){const r=await t.context.shopify.product_recommendations({product_id:e});i.recommendations=r}(),()=>{}))),Ui`
		${i.recommendations.slice(0,r).map((t=>ms([t],{attrs:{part:"card",gpart:"card"}})))}
	`})),ks=pn.shadow_view({styles:ys,name:"product-focus"},(t=>e=>{const{cart:r,modal:i}=t.context,n=t.flatstate({choices:[]}),o=new Zo(e),s=new bs(o,n.choices);return Ui`
		<div
			part=grid
			?data-no-additional-images=${o.images.length<2}
			?data-no-options=${o.variants.length<2}>

			<figure part=figure>
				${Ko({part:"img",img:Jo.large(s.chosen_image),onclick:(t,e)=>i.open({kind:"image",img:e})})}
			</figure>

			<h1 part=title>${e.title}</h1>

			${ps([e],{attrs:{class:"pills",part:"pills",gpart:"pills"}})}

			<div part=options class=options>
				${_s(s,(function(t,e){n.choices=n.choices.filter((e=>e.name!==t)),void 0!==e&&n.choices.push({name:t,value:e})}))}
			</div>

			<div part=buy class=buy>
				${Ro([s.selected_variant],{attrs:{class:"price"}})}
				${fs({Coolbutton:Bo,cart:r,product:e,variant_id:s.selected_variant.id,allow_select:!1})}
			</div>

			<aside part=aside class=aside>
				${s.side_images.map((t=>Ko({part:"img",img:Jo.large(t),onclick:(t,e)=>i.open({kind:"image",img:e})})))}
			</aside>

			<section part=standard-content class="standard-content">
				${vs(e.descriptionHtml)}
			</section>

		</div>
		<div part=recbox class=recommendations>
			<h2>Customers also bought:</h2>
			${xs([e.id,3],{attrs:{part:"recommendations"}})}
		</div>
	`}));function Es(t){return t.image?`background-image: url("${t.image.url_small}");`:""}const Cs=vo`

:host {
	display: block;
	container: collection-list / inline-size;
}

[part="grid"] {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(24em, 1fr));
	gap: 1em;
	--plate-color: var(--collection-list-plate-color, #8884);
}

[part="grid"] > a {
	padding: 1em 2em;
	background-color: var(--plate-color);
	background-size: cover, cover;
	background-position: center center, center center;
	color: white;
	font-weight: bold;
	border-radius: 0.5em;
	box-shadow: 0.1em 0.2em 0.5em #0004;

	font-size: 1.5em;
	color: white;
	text-decoration: none;
	text-shadow:
		0.05em 0.10em 0.5em black,
		0.05em 0.10em 0.5em black,
		0.05em 0.10em 0 black;

	&:hover { text-decoration: underline; }
	&:active { text-decoration: double underline; }
}

@container collection-list (width < 30em) {
	[part="grid"] {
		display: flex;
		flex-direction: column;
	}
}

@container collection-list (width < 16em) {
	[part="grid"] > a {
		font-size: 1.2em;
		padding: 0.5em 1em;
	}
}

`;function As(t,e,r){let i=[],n=[];for(const r of t)e.includes(r.id)?i.push(r):n.push(r);const o=e.map((t=>i.find((e=>e.id===t)))).filter((t=>!!t));return[...o,...n.sort(Ts)].filter((t=>!r.includes(t.id)))}function Ts(t,e){return t.title.localeCompare(e.title)}const Ps=pn.shadow_view({name:"collection-list",styles:Cs},(t=>({collections:e,prioritized:r,hidden:i})=>Ui`

	<div part=grid>
		${As(e,r,i).map((e=>Ui`
				<a
					part=bar
					data-id="${e.id}"
					style="${Es(e)}"
					href="${t.context.router.routes.collection(e).url}">
					${e.title}
				</a>
			`))}
	</div>
`));function Ms(t){return t?t.split(/\s+/).map((t=>t.trim())):[]}const Ss=pn.shadow_component({styles:ls},(t=>{const{state:e,router:r}=t.context,i=t.attrs({"prioritized-collections":String,"hidden-collections":String});const{hidden:n,prioritized:o}={hidden:Ms(i["hidden-collections"]),prioritized:Ms(i["prioritized-collections"])};return Ui`
		<div>
			${function(t,i){const n="collection"===e.route.zone?e.route.id:void 0;if(!n)return;const o=As(e.collections,t,i);return Ui`
			<div part=collection-tab-list>
				${o.map((t=>Ui`
					<a
						part=collection-tab
						href="${r.routes.collection(t).url}"
						?data-active-collection=${t.id===n}>
						<span class=bgimg style="${Es(t)}"></span>
						<span class=text>${t.title}</span>
					</a>
				`))}
			</div>
		`}(o,n)}
			${cs(e.situation_op,(t=>{switch(null==t?void 0:t.type){case"collection_list":return Ps([{hidden:n,prioritized:o,collections:t.collections}],{attrs:{part:"collection-list"}});case"products_in_collection":case"all_products":case"search_results":return ws([{situation:t}],{attrs:{part:"product-list"}});case"single_product":return ks([t.product],{attrs:{part:"product-focus"}});case"not_found":return Ui`
							${t.message?Ui`<h1>${t.message}</h1>`:Ui`<h1>Not found</h1>`}
							<p>
								<a part=a href="${r.routes.home().url}">
									back
								</a>
							</p>
						`;default:return}}))}
		</div>
	`}));var js=Go`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shopping-cart"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>`;const Ws=vo`

button {
	position: relative;
	padding: 1em;
	background: #eeee;
	color: #222;
	border: none;
	border-radius: 1em;
	box-shadow: 0.1em 0.1em 0.3em #0008;
	cursor: pointer;
}

.count {
	position: absolute;
	top: -0.5em;
	right: -0.5em;
	display: flex;
	justify-content: center;
	align-items: center;
	width: 1.5em;
	height: 1.5em;
	border-radius: 1em;
	background: red;
	font-family: sans-serif;
	font-weight: bold;
	color: white;
	text-shadow: 0.1em 0.1em 0.1em #0008;
	&[hidden] { display: none; }
}

`,zs={SheepNav:qo,SheepCart:Xo,SheepModal:es,SheepSearch:os,SheepCatalog:Ss,SheepCartButton:pn.shadow_component({styles:Ws},(t=>{const e=t.attrs({"triggers-modal":Boolean}),{units:r}=t.context.cart,i=e["triggers-modal"]?()=>t.context.modal.open({kind:"cart"}):()=>{};return Ui`
		<button
			part=button
			@click=${i}>

			${js(Je)}

			<div class=count ?hidden=${0===r.length}>
				${r.length}
			</div>
		</button>
	`}))};async function qs({subject:t,wrap:e,set_situation_op:r,generator:i,previous_products:n=[]}){async function o(){try{const{value:o}=await i.next(),[s,a]=o,c=[...n,...s];return e({products:c,load_more:a?()=>qs({subject:t,wrap:e,set_situation_op:r,generator:i,previous_products:c}):void 0,load_more_op:U.ready(void 0)})}catch(e){if(e instanceof Vi)return{type:"not_found",message:`${t} not found`};throw e}}0===n.length?await U.run(r,(async()=>await o())):(r(U.ready(e({products:n,load_more:void 0,load_more_op:U.loading()}))),r(U.ready(await o())))}const Os=t=>e=>{const{home:r,shopify:i,page_size:n,collections_promise:o,set_situation_op:s}=t;function a(){return U.run((t=>s(U.morph(t,(t=>({type:"collection_list",collections:t}))))),(async()=>o))}function c(){return qs({subject:"Products",wrap:t=>({...t,type:"all_products"}),set_situation_op:s,generator:i.products({page_size:n})})}try{switch(e.zone){case"home":return"products"===r?c():a();case"products":return c();case"collections":return a();case"search":return qs({subject:"Products",wrap:t=>({...t,type:"search_results"}),set_situation_op:s,generator:i.products({page_size:n,query:{tags:e.tags,terms:e.terms}})});case"collection":return qs({subject:"Collection",wrap:t=>({...t,type:"products_in_collection",collection_id:e.id}),set_situation_op:s,generator:i.products_in_collection({page_size:n,collection_id:e.id})});case"product":return async function(t,e){await U.run(t,(async()=>{try{return{type:"single_product",product:await e}}catch(t){if(t instanceof Vi)return{type:"not_found",message:"Product not found"};throw t}}))}(s,i.product({id:e.id}));case"not_found":return s(U.ready({type:"not_found"}))}}catch(t){console.error("pilot error",t)}};var Ns,Us,Rs=function(t,e,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},Is=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class Hs{constructor(t,e){Ns.set(this,void 0),Us.set(this,void 0),Rs(this,Ns,t,"f"),Rs(this,Us,e,"f")}save(t){const e={version:1,pack:t};Is(this,Us,"f").setItem(Is(this,Ns,"f"),JSON.stringify(e))}load(){let t={items:[]};const e=Is(this,Us,"f").getItem(Is(this,Ns,"f"));if(e)try{const r=JSON.parse(e);1===r.version&&(t=r.pack)}catch(t){}return t}}Ns=new WeakMap,Us=new WeakMap;const Ds=vo`

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

:not(:defined) {
	display: none;
}

.standard-content {
	& * + * {
		margin-top: 0.7em;
	}

	:is(ul, ol) {
		padding-left: 1.2em;
	}
}

.op {
	& svg {
		width: 2em;
		height: 2em;
	}

	&.error {
		display: flex;
		color: red;
		align-items: center;
		& svg {
			margin-right: 0.5em;
		}
	}

	&.loading svg {
		animation: rotate-animation 10s infinite linear;
	}
}

@keyframes rotate-animation {
	0% {
		transform: rotate(0deg);
	}
	50% {
		transform: rotate(180deg);
	}
	100% {
		transform: rotate(360deg);
	}
}

`;const Ls=function({domain:t,storefront_access_token:e,page_size:r=50,home:i="products",theme:n=Ds}){const o=hn.setup({domain:t,storefront_access_token:e}),s=Sn.setup(i),a=new to(o,s,n,new Hs("sheep_cart",localStorage));pn.context=a,a.cart.load(),window.addEventListener("storage",(()=>{a.cart.load()}));const c=hn.all(o.collections()),l=Os({home:i,shopify:o,page_size:r,collections_promise:c,set_situation_op:a.set_situation_op});return s.on_route_change(a.set_route),s.on_route_change((()=>l(a.state.route))),{elements:zs,async load(){await Promise.all([void async function(){await l(a.state.route)}(),void async function(){a.set_tags(await hn.all(o.tags()))}(),void async function(){a.set_collections(await c)}()])}}}({domain:"dev-bakery.myshopify.com",storefront_access_token:"5f636be6b04aeb2a7b96fe9306386f25",page_size:10,home:"collections"});ee(Ls.elements),await Ls.load(),console.log("");