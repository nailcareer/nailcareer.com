export function save_reaction(symbol, recording, tracker, reaction) {
    const stoppers = [];
    for (const [state, keyset] of recording) {
        const { grab_symbolmap } = tracker.grab_keymap(state);
        for (const key of keyset) {
            const symbolmap = grab_symbolmap(key);
            symbolmap.set(symbol, reaction);
            stoppers.push(() => symbolmap.delete(symbol));
        }
    }
    return () => stoppers.forEach(stop => stop());
}
//# sourceMappingURL=save_reaction.js.map